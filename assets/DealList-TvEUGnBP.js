var xs=Object.defineProperty;var o=(e,t)=>xs(e,"name",{value:t,configurable:!0});import{r as v,C as bs,L as vs,u as nn,a as ys,b as Ds,c as Ss,d as Cs,e as ht,f as De,g as Is,h as Br,i as ws,j as Ns,k as Es,l as Mn,m as l,F as Lr,n as _r,o as Mr,p as Fr,q as Ps,B as rn,X as As,_ as js,s as Rs,t as Os,v as Ts,I as Gr,w as kr,x as $r,y as on,z as Bs,A as Ls,D as _s,E as Ms,G as Fn,H as We,T as Gn,J as Fs,K as Wr,R as Gs,M as ks,N as Wt,O as $s,P as Ws,Q as Vs,S as Hs,U as L,V as Us,W as Vr,Y as Se,Z as ne,$ as ce,a0 as xt,a1 as sn,a2 as Ce,a3 as Ie,a4 as bt,a5 as vt,a6 as Hr,a7 as qs,a8 as Ur,a9 as Vt,aa as Fe,ab as qr,ac as zs,ad as Ys,ae as Je,af as Ht,ag as an,ah as we,ai as Ks,aj as ln,ak as zr,al as cn,am as yt,an as Js,ao as Xe,ap as Yr,aq as Kr,ar as it,as as Xs,at as Qs,au as Jr,av as Xr,aw as Zs,ax as ei,ay as de,az as kn,aA as $n,aB as Wn,aC as Vn,aD as Hn,aE as ti,aF as ni,aG as Qr,aH as Zr,aI as ri,aJ as oi,aK as si,aL as ii,aM as eo,aN as me,aO as he,aP as ai,aQ as li,aR as ci,aS as di,aT as Pt,aU as At,aV as ui,aW as pi,aX as fi,aY as gi,aZ as mi,a_ as to,a$ as hi,b0 as xi,b1 as bi,b2 as vi,b3 as yi,b4 as Di,b5 as Si,b6 as Ci,b7 as Ii}from"./index-BGqJYcHy.js";var wi=o(function(){var e=v.useContext(bs);if(!e)throw new Error("useCreateContext must be used inside a CreateContextProvider");return e},"useCreateContext"),Ni=o(function(){var e=v.useContext(vs);if(!e)throw new Error("useListFilterContext must be used inside a ListFilterContextProvider");return e},"useListFilterContext"),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ge.apply(this,arguments)},Ei=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},Pi=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Ai=o(function(e){var t,n=e.debounce,r=e.enableGetChoices,s=e.filter,i=e.page,a=i===void 0?1:i,c=e.perPage,d=c===void 0?25:c,p=e.sort,g=p===void 0?{field:"id",order:"DESC"}:p,u=e.queryOptions,f=u===void 0?{}:u,m=e.reference,h=e.source,b=nn().getValues,x=ys(h),D=(t=Ds({name:x}))!==null&&t!==void 0?t:b(x),S=f.meta,N=Ei(f,["meta"]),C=Ss(m,{ids:D||ji,meta:S},{enabled:D!=null&&D.length>0}),I=C.data,E=C.error,R=C.isLoading,O=C.isFetching,k=C.isPaused,P=C.isPending,A=C.isPlaceholderData,$=C.refetch,K=Cs({resource:m,page:a,perPage:d,sort:g,debounce:n,filter:s}),B=K[0],F=K[1],ie=I?I.filter(Boolean):[],Ae=r?r(B.filterValues):!0,W=ht(m,{pagination:{page:B.page,perPage:B.perPage},sort:{field:B.sort,order:B.order},filter:Ge(Ge({},B.filter),s),meta:S},Ge({retry:!1,enabled:Ae,placeholderData:o(function(U){return U},"placeholderData")},N)),ee=W.data,fe=W.total,te=W.pageInfo,je=W.error,ae=W.isLoading,et=W.isFetching,Re=W.isPaused,Oe=W.isPending,tt=W.isPlaceholderData,nt=W.refetch,ge=ee&&ee.length>0?Ri(ee,ie):ie.length>0?ie:ee,Te=v.useCallback(function(){$(),nt()},[$,nt]),_n=v.useMemo(function(){return{field:B.sort,order:B.order}},[B.sort,B.order]);return{sort:_n,allChoices:ge,availableChoices:ee,selectedChoices:ie,displayedFilters:B.displayedFilters,error:E||je,filter:s,filterValues:B.filterValues,hideFilter:F.hideFilter,isFetching:O||et,isLoading:R||ae,isPaused:k||Re,isPending:P||Oe,isPlaceholderData:A||tt,page:B.page,perPage:B.perPage,refetch:Te,resource:m,setFilters:F.setFilters,setPage:F.setPage,setPerPage:F.setPerPage,setSort:F.setSort,showFilter:F.showFilter,source:h,total:fe,hasNextPage:te?te.hasNextPage:fe!=null?B.page*B.perPage<fe:void 0,hasPreviousPage:te?te.hasPreviousPage:B.page>1,isFromReference:!0}},"useReferenceArrayInputController"),ji=[],Ri=o(function(e,t){var n=Pi([],e,!0),r=e.map(function(s){return s.id});return t.forEach(function(s){r.includes(s.id)||(r.push(s.id),n.push(s))}),n},"mergeReferences");/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],Ti=De("archive-restore",Oi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Li=De("archive",Bi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Mi=De("bell",_i);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gi=De("file-text",Fi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$i=De("message-square",ki);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Vi=De("presentation",Wi),dn=o(e=>{const{filterToQuery:t=Hi,inputText:n}=e,{allChoices:r=[],source:s,resource:i,isFromReference:a,setFilters:c}=Is(e),{id:d,field:p,isRequired:g}=Br({...e,source:s}),u=ws(),{placeholder:f=u("ra.action.search",{_:"Search..."})}=e,m=Ns(i),{getChoiceText:h,getChoiceValue:b}=Es({optionText:e.optionText??(a?m:"name"),optionValue:e.optionValue??"id",disableValue:e.disableValue,translateChoice:e.translateChoice??!a}),x=v.useRef(null),[D,S]=v.useState(!1),N=Mn(P=>{p.onChange(p.value.filter(A=>A!==b(P)))}),C=Mn(P=>{const A=x.current;A&&((P.key==="Delete"||P.key==="Backspace")&&A.value===""&&p.onChange(p.value.slice(0,-1)),P.key==="Escape"&&A.blur())}),I=r.filter(P=>!p.value.includes(b(P))),E=r.filter(P=>p.value.includes(b(P))),[R,O]=v.useState(""),k=v.useCallback(P=>typeof n=="function"?n(P):n!==void 0?n:h(P),[n,h]);return l.jsxs(Lr,{className:e.className,id:d,name:p.name,children:[e.label!==!1&&l.jsx(_r,{children:l.jsx(Mr,{label:e.label,source:e.source??s,resource:i,isRequired:g})}),l.jsx(Fr,{children:l.jsxs(Ps,{onKeyDown:C,shouldFilter:!a,className:"overflow-visible bg-transparent",children:[l.jsx("div",{className:"group rounded-md bg-transparent dark:bg-input/30 border border-input px-3 py-1.75 text-sm transition-all ring-offset-background focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.map(P=>l.jsxs(rn,{variant:"outline",children:[k(P),l.jsxs("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:o(A=>{A.key==="Enter"&&N(P)},"onKeyDown"),onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onClick:o(A=>{A.preventDefault(),N(P)},"onClick"),children:[l.jsx("span",{className:"sr-only",children:u("ra.action.remove",{_:"Remove"})}),l.jsx(As,{className:"h-3 w-3"})]})]},b(P))),l.jsx(js.Input,{ref:x,value:R,onValueChange:o(P=>{O(P),a&&c(t(P),void 0,!0)},"onValueChange"),onBlur:o(()=>S(!1),"onBlur"),onFocus:o(()=>S(!0),"onFocus"),placeholder:f,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),l.jsx("div",{className:"relative",children:l.jsx(Rs,{children:D&&I.length>0?l.jsx("div",{className:"absolute top-2 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:l.jsx(Os,{className:"h-full overflow-auto",children:I.map(P=>l.jsx(Ts,{onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onSelect:o(()=>{O(""),a&&c(t("")),p.onChange([...p.value,b(P)])},"onSelect"),className:"cursor-pointer",children:h(P)},b(P)))})}):null})})]})}),l.jsx(Gr,{helperText:e.helperText}),l.jsx(kr,{})]})},"AutocompleteArrayInput"),Hi=o(e=>({q:e}),"DefaultFilterToQuery"),Ui=o(({title:e,children:t,actions:n,className:r,...s})=>l.jsx($r,{...s,children:l.jsx(qi,{title:e,actions:n,className:r,children:t})}),"Create"),qi=o(({actions:e,title:t,children:n,className:r})=>{const s=wi(),i=on();if(!i)throw new Error("The CreateView component must be used within a ResourceContextProvider");const c=Bs()(i,2),p=Ls()({resource:i,type:"list"}),g=_s();return l.jsxs(l.Fragment,{children:[l.jsxs(Ms,{children:[g&&l.jsx(Fn,{children:l.jsx(We,{to:"/",children:l.jsx(Gn,{i18nKey:"ra.page.dashboard",children:"Home"})})}),l.jsx(Fn,{children:l.jsx(We,{to:p,children:c})}),l.jsx(Fs,{children:l.jsx(Gn,{i18nKey:"ra.action.create",children:"Create"})})]}),l.jsxs("div",{className:Wr("flex justify-between items-start flex-wrap gap-2 my-2",r),children:[l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:t!==void 0?t:s.defaultTitle}),e]}),l.jsx("div",{className:"my-2",children:n})]})},"CreateView"),no=o(e=>{const{children:t=zi,reference:n,sort:r,filter:s=Yi}=e;if(v.Children.count(t)!==1)throw new Error("<ReferenceArrayInput> only accepts a single child (like <AutocompleteArrayInput>)");const i=Ai({...e,sort:r,filter:s});return l.jsx(Gs,{value:n,children:l.jsx(ks,{value:i,children:t})})},"ReferenceArrayInput"),zi=l.jsx(dn,{}),Yi={},Ki=o(e=>{const{label:t,source:n,className:r,resource:s,validate:i,format:a,helperText:c,parse:d=Ji,onFocus:p,...g}=e,u=on({resource:s}),{id:f,field:m,isRequired:h}=Br(e),b=o(I=>{const E=I.target.value,R=d(E);D(E),m.onChange(R??0)},"handleChange"),[x,D]=v.useState(m.value?.toString()??""),S=v.useRef(!1),N=o(I=>{p?.(I),S.current=!0},"handleFocus"),C=o(I=>{m.onBlur?.(I),S.current=!1,D(m.value?.toString()??"")},"handleBlur");return v.useEffect(()=>{S.current||D(m.value?.toString()??"")},[m.value]),l.jsxs(Lr,{id:f,className:r,name:m.name,children:[t!==!1&&l.jsx(_r,{children:l.jsx(Mr,{label:t,source:n,resource:u,isRequired:h})}),l.jsx(Fr,{children:l.jsx(Wt,{...m,type:"number",value:x,onChange:b,onFocus:N,onBlur:C})}),l.jsx(Gr,{helperText:c}),l.jsx(kr,{})]})},"NumberInput"),Ji=o(e=>{if(e==null||e==="")return null;const t=parseFloat(e);return isNaN(t)?0:t},"convertStringToNumber");function Ut(e,t,n){const[r,s]=$s(n?.in,e,t),i=Un(r,s),a=Math.abs(Ws(r,s));r.setDate(r.getDate()-i*a);const c=+(Un(r,s)===-i),d=i*(a-c);return d===0?0:d}o(Ut,"differenceInDays");function Un(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}o(Un,"compareLocalAsc");function Xi(e,t,n){const r=Ut(e,t,n)/7;return Vs()(r)}o(Xi,"differenceInWeeks");function H(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}o(H,"formatProdErrorMessage");var Qi=typeof Symbol=="function"&&Symbol.observable||"@@observable",qn=Qi,zn=o(()=>Math.random().toString(36).substring(7).split("").join("."),"randomString"),Zi={INIT:`@@redux/INIT${zn()}`,REPLACE:`@@redux/REPLACE${zn()}`},Yn=Zi;function ea(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}o(ea,"isPlainObject");function ro(e,t,n){if(typeof e!="function")throw new Error(H(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(H(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(H(1));return n(ro)(e,t)}let r=e,s=t,i=new Map,a=i,c=0,d=!1;function p(){a===i&&(a=new Map,i.forEach((x,D)=>{a.set(D,x)}))}o(p,"ensureCanMutateNextListeners");function g(){if(d)throw new Error(H(3));return s}o(g,"getState");function u(x){if(typeof x!="function")throw new Error(H(4));if(d)throw new Error(H(5));let D=!0;p();const S=c++;return a.set(S,x),o(function(){if(D){if(d)throw new Error(H(6));D=!1,p(),a.delete(S),i=null}},"unsubscribe")}o(u,"subscribe");function f(x){if(!ea(x))throw new Error(H(7));if(typeof x.type>"u")throw new Error(H(8));if(typeof x.type!="string")throw new Error(H(17));if(d)throw new Error(H(9));try{d=!0,s=r(s,x)}finally{d=!1}return(i=a).forEach(S=>{S()}),x}o(f,"dispatch");function m(x){if(typeof x!="function")throw new Error(H(10));r=x,f({type:Yn.REPLACE})}o(m,"replaceReducer");function h(){const x=u;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(H(11));function S(){const C=D;C.next&&C.next(g())}return o(S,"observeState"),S(),{unsubscribe:x(S)}},[qn](){return this}}}return o(h,"observable"),f({type:Yn.INIT}),{dispatch:f,subscribe:u,getState:g,replaceReducer:m,[qn]:h}}o(ro,"createStore$1");function Kn(e,t){return function(...n){return t(e.apply(this,n))}}o(Kn,"bindActionCreator");function Jn(e,t){if(typeof e=="function")return Kn(e,t);if(typeof e!="object"||e===null)throw new Error(H(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Kn(s,t))}return n}o(Jn,"bindActionCreators$1");function oo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}o(oo,"compose");function ta(...e){return t=>(n,r)=>{const s=t(n,r);let i=o(()=>{throw new Error(H(15))},"dispatch");const a={getState:s.getState,dispatch:o((d,...p)=>i(d,...p),"dispatch")},c=e.map(d=>d(a));return i=oo(...c)(s.dispatch),{...s,dispatch:i}}}o(ta,"applyMiddleware");var jt={exports:{}},Rt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn;function na(){if(Xn)return Rt;Xn=1;var e=Hs();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}o(t,"is");var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Rt.useSyncExternalStoreWithSelector=function(d,p,g,u,f){var m=s(null);if(m.current===null){var h={hasValue:!1,value:null};m.current=h}else h=m.current;m=a(function(){function x(I){if(!D){if(D=!0,S=I,I=u(I),f!==void 0&&h.hasValue){var E=h.value;if(f(E,I))return N=E}return N=I}if(E=N,n(S,I))return E;var R=u(I);return f!==void 0&&f(E,R)?(S=I,E):(S=I,N=R)}o(x,"memoizedSelector");var D=!1,S,N,C=g===void 0?null:g;return[function(){return x(p())},C===null?void 0:function(){return x(C())}]},[p,g,u,f]);var b=r(d,m[0],m[1]);return i(function(){h.hasValue=!0,h.value=b},[b]),c(b),b},Rt}o(na,"requireUseSyncExternalStoreWithSelector_production");var Qn;function ra(){return Qn||(Qn=1,jt.exports=na()),jt.exports}o(ra,"requireWithSelector");ra();var oa=v.version.startsWith("19"),sa=Symbol.for(oa?"react.transitional.element":"react.element"),ia=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),la=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),da=Symbol.for("react.consumer"),ua=Symbol.for("react.context"),so=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),un=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),ma=so,ha=un;function xa(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case sa:switch(e=e.type,e){case aa:case ca:case la:case pa:case fa:return e;default:switch(e=e&&e.$$typeof,e){case ua:case so:case ga:case un:return e;case da:return e;default:return t}}case ia:return t}}}o(xa,"typeOf");function ba(e){return xa(e)===un}o(ba,"isMemo");function va(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let c=!1,d,p,g,u,f;function m(S,N){return d=S,p=N,g=e(d,p),u=t(r,p),f=n(g,u,p),c=!0,f}o(m,"handleFirstCall");function h(){return g=e(d,p),t.dependsOnOwnProps&&(u=t(r,p)),f=n(g,u,p),f}o(h,"handleNewPropsAndNewState");function b(){return e.dependsOnOwnProps&&(g=e(d,p)),t.dependsOnOwnProps&&(u=t(r,p)),f=n(g,u,p),f}o(b,"handleNewProps");function x(){const S=e(d,p),N=!a(S,g);return g=S,N&&(f=n(g,u,p)),f}o(x,"handleNewState");function D(S,N){const C=!i(N,p),I=!s(S,d,N,p);return d=S,p=N,C&&I?h():C?b():I?x():f}return o(D,"handleSubsequentCalls"),o(function(N,C){return c?D(N,C):m(N,C)},"pureFinalPropsSelector")}o(va,"pureFinalPropsSelectorFactory");function ya(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),a=n(e,s),c=r(e,s);return va(i,a,c,e,s)}o(ya,"finalPropsSelectorFactory");function Da(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}o(Da,"bindActionCreators");function qt(e){return o(function(n){const r=e(n);function s(){return r}return o(s,"constantSelector"),s.dependsOnOwnProps=!1,s},"initConstantSelector")}o(qt,"wrapMapToPropsConstant");function Zn(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}o(Zn,"getDependsOnOwnProps");function io(e,t){return o(function(r,{displayName:s}){const i=o(function(c,d){return i.dependsOnOwnProps?i.mapToProps(c,d):i.mapToProps(c,void 0)},"mapToPropsProxy");return i.dependsOnOwnProps=!0,i.mapToProps=o(function(c,d){i.mapToProps=e,i.dependsOnOwnProps=Zn(e);let p=i(c,d);return typeof p=="function"&&(i.mapToProps=p,i.dependsOnOwnProps=Zn(p),p=i(c,d)),p},"detectFactoryAndVerify"),i},"initProxySelector")}o(io,"wrapMapToPropsFunc");function pn(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}o(pn,"createInvalidArgFactory");function Sa(e){return e&&typeof e=="object"?qt(t=>Da(e,t)):e?typeof e=="function"?io(e):pn(e,"mapDispatchToProps"):qt(t=>({dispatch:t}))}o(Sa,"mapDispatchToPropsFactory");function Ca(e){return e?typeof e=="function"?io(e):pn(e,"mapStateToProps"):qt(()=>({}))}o(Ca,"mapStateToPropsFactory");function Ia(e,t,n){return{...n,...e,...t}}o(Ia,"defaultMergeProps");function wa(e){return o(function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return o(function(d,p,g){const u=e(d,p,g);return i?s(u,a)||(a=u):(i=!0,a=u),a},"mergePropsProxy")},"initMergePropsProxy")}o(wa,"wrapMergePropsFunc");function Na(e){return e?typeof e=="function"?wa(e):pn(e,"mergeProps"):()=>Ia}o(Na,"mergePropsFactory");function Ea(e){e()}o(Ea,"defaultNoopBatch");function Pa(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ea(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,o(function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)},"unsubscribe")}}}o(Pa,"createListenerCollection");var er={notify(){},get:o(()=>[],"get")};function ao(e,t){let n,r=er,s=0,i=!1;function a(b){g();const x=r.subscribe(b);let D=!1;return()=>{D||(D=!0,x(),u())}}o(a,"addNestedSub");function c(){r.notify()}o(c,"notifyNestedSubs");function d(){h.onStateChange&&h.onStateChange()}o(d,"handleChangeWrapper");function p(){return i}o(p,"isSubscribed");function g(){s++,n||(n=t?t.addNestedSub(d):e.subscribe(d),r=Pa())}o(g,"trySubscribe");function u(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=er)}o(u,"tryUnsubscribe");function f(){i||(i=!0,g())}o(f,"trySubscribeSelf");function m(){i&&(i=!1,u())}o(m,"tryUnsubscribeSelf");const h={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:p,trySubscribe:f,tryUnsubscribe:m,getListeners:o(()=>r,"getListeners")};return h}o(ao,"createSubscription");var Aa=o(()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u","canUseDOM"),ja=Aa(),Ra=o(()=>typeof navigator<"u"&&navigator.product==="ReactNative","isRunningInReactNative"),Oa=Ra(),Ta=o(()=>ja||Oa?v.useLayoutEffect:v.useEffect,"getUseIsomorphicLayoutEffect"),lt=Ta();function tr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}o(tr,"is");function Ot(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!tr(e[n[s]],t[n[s]]))return!1;return!0}o(Ot,"shallowEqual");var Ba={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},La={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lo={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ma={[ma]:_a,[ha]:lo};function nr(e){return ba(e)?lo:Ma[e.$$typeof]||Ba}o(nr,"getStatics");var Fa=Object.defineProperty,Ga=Object.getOwnPropertyNames,rr=Object.getOwnPropertySymbols,ka=Object.getOwnPropertyDescriptor,$a=Object.getPrototypeOf,or=Object.prototype;function zt(e,t){if(typeof t!="string"){if(or){const i=$a(t);i&&i!==or&&zt(e,i)}let n=Ga(t);rr&&(n=n.concat(rr(t)));const r=nr(e),s=nr(t);for(let i=0;i<n.length;++i){const a=n[i];if(!La[a]&&!(s&&s[a])&&!(r&&r[a])){const c=ka(t,a);try{Fa(e,a,c)}catch{}}}}return e}o(zt,"hoistNonReactStatics");var Wa=Symbol.for("react-redux-context"),Va=typeof globalThis<"u"?globalThis:{};function Ha(){if(!v.createContext)return{};const e=Va[Wa]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}o(Ha,"getContext");var co=Ha(),Ua=[null,null];function qa(e,t,n){lt(()=>e(...t),n)}o(qa,"useIsomorphicLayoutEffectWithArgs");function za(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}o(za,"captureWrapperProps");function Ya(e,t,n,r,s,i,a,c,d,p,g){if(!e)return()=>{};let u=!1,f=null;const m=o(()=>{if(u||!c.current)return;const b=t.getState();let x,D;try{x=r(b,s.current)}catch(S){D=S,f=S}D||(f=null),x===i.current?a.current||p():(i.current=x,d.current=x,a.current=!0,g())},"checkForUpdates");return n.onStateChange=m,n.trySubscribe(),m(),o(()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f},"unsubscribeWrapper")}o(Ya,"subscribeUpdates");function Ka(e,t){return e===t}o(Ka,"strictEqual");function Ja(e,t,n,{pure:r,areStatesEqual:s=Ka,areOwnPropsEqual:i=Ot,areStatePropsEqual:a=Ot,areMergedPropsEqual:c=Ot,forwardRef:d=!1,context:p=co}={}){const g=p,u=Ca(e),f=Sa(t),m=Na(n),h=!!e;return o(x=>{const D=x.displayName||x.name||"Component",S=`Connect(${D})`,N={shouldHandleStateChanges:h,displayName:S,wrappedComponentName:D,WrappedComponent:x,initMapStateToProps:u,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:c};function C(R){const[O,k,P]=v.useMemo(()=>{const{reactReduxForwardedRef:U,...Be}=R;return[R.context,U,Be]},[R]),A=v.useMemo(()=>{let U=g;return O?.Consumer,U},[O,g]),$=v.useContext(A),K=!!R.store&&!!R.store.getState&&!!R.store.dispatch,B=!!$&&!!$.store,F=K?R.store:$.store,ie=B?$.getServerState:F.getState,Ae=v.useMemo(()=>ya(F.dispatch,N),[F]),[W,ee]=v.useMemo(()=>{if(!h)return Ua;const U=ao(F,K?void 0:$.subscription),Be=U.notifyNestedSubs.bind(U);return[U,Be]},[F,K,$]),fe=v.useMemo(()=>K?$:{...$,subscription:W},[K,$,W]),te=v.useRef(void 0),je=v.useRef(P),ae=v.useRef(void 0),et=v.useRef(!1),Re=v.useRef(!1),Oe=v.useRef(void 0);lt(()=>(Re.current=!0,()=>{Re.current=!1}),[]);const tt=v.useMemo(()=>o(()=>ae.current&&P===je.current?ae.current:Ae(F.getState(),P),"selector"),[F,P]),nt=v.useMemo(()=>o(Be=>W?Ya(h,F,W,Ae,je,te,et,Re,ae,ee,Be):()=>{},"subscribe"),[W]);qa(za,[je,te,et,P,ae,ee]);let ge;try{ge=v.useSyncExternalStore(nt,tt,ie?()=>Ae(ie(),P):tt)}catch(U){throw Oe.current&&(U.message+=`
The error may be correlated with this previous error:
${Oe.current.stack}

`),U}lt(()=>{Oe.current=void 0,ae.current=void 0,te.current=ge});const Te=v.useMemo(()=>v.createElement(x,{...ge,ref:k}),[k,x,ge]);return v.useMemo(()=>h?v.createElement(A.Provider,{value:fe},Te):Te,[A,Te,fe])}o(C,"ConnectFunction");const E=v.memo(C);if(E.WrappedComponent=x,E.displayName=C.displayName=S,d){const O=v.forwardRef(o(function(P,A){return v.createElement(E,{...P,reactReduxForwardedRef:A})},"forwardConnectRef"));return O.displayName=S,O.WrappedComponent=x,zt(O,x)}return zt(E,x)},"wrapWithConnect")}o(Ja,"connect");var uo=Ja;function Xa(e){const{children:t,context:n,serverState:r,store:s}=e,i=v.useMemo(()=>{const d=ao(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),a=v.useMemo(()=>s.getState(),[s]);lt(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,a]);const c=n||co;return v.createElement(c.Provider,{value:i},t)}o(Xa,"Provider");var Qa=Xa,Za="Invariant failed";function el(e,t){throw new Error(Za)}o(el,"invariant$1");var Z=o(function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,a=r-i,c=s-n,d={top:n,right:r,bottom:s,left:i,width:a,height:c,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return d},"getRect2"),fn=o(function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},"expand2"),sr=o(function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},"shrink2"),tl=o(function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},"shift2"),Tt={top:0,right:0,bottom:0,left:0},gn=o(function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Tt:r,i=t.border,a=i===void 0?Tt:i,c=t.padding,d=c===void 0?Tt:c,p=Z(fn(n,s)),g=Z(sr(n,a)),u=Z(sr(g,d));return{marginBox:p,borderBox:Z(n),paddingBox:g,contentBox:u,margin:s,border:a,padding:d}},"createBox2"),J=o(function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&el(),s},"parse2"),nl=o(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll2"),ct=o(function(t,n){var r=t.borderBox,s=t.border,i=t.margin,a=t.padding,c=tl(r,n);return gn({borderBox:c,border:s,margin:i,padding:a})},"offset2"),dt=o(function(t,n){return n===void 0&&(n=nl()),ct(t,n)},"withScroll2"),po=o(function(t,n){var r={top:J(n.marginTop),right:J(n.marginRight),bottom:J(n.marginBottom),left:J(n.marginLeft)},s={top:J(n.paddingTop),right:J(n.paddingRight),bottom:J(n.paddingBottom),left:J(n.paddingLeft)},i={top:J(n.borderTopWidth),right:J(n.borderRightWidth),bottom:J(n.borderBottomWidth),left:J(n.borderLeftWidth)};return gn({borderBox:t,margin:r,padding:s,border:i})},"calculateBox2"),fo=o(function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return po(n,r)},"getBox2"),Ve=o(function(t){var n=[],r=null,s=o(function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))},"wrapperFn");return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s},"rafSchd");function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(null,arguments)}o(ut,"_extends");function go(e,t){}o(go,"log");go.bind(null,"warn");go.bind(null,"error");function re(){}o(re,"noop$2");function rl(e,t){return{...e,...t}}o(rl,"getOptions");function X(e,t,n){const r=t.map(s=>{const i=rl(n,s.options);return e.addEventListener(s.eventName,s.fn,i),o(function(){e.removeEventListener(s.eventName,s.fn,i)},"unbind")});return o(function(){r.forEach(i=>{i()})},"unbindAll")}o(X,"bindEvents");const ol="Invariant failed",Tn=class Tn extends Error{};o(Tn,"RbdInvariant");let xe=Tn;xe.prototype.toString=o(function(){return this.message},"toString");function y(e,t){throw new xe(ol)}o(y,"invariant");const Bn=class Bn extends L.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=re,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof xe&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=X(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof xe){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};o(Bn,"ErrorBoundary");let Yt=Bn;const sl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pt=o(e=>e+1,"position"),il=o(e=>`
  You have lifted an item in position ${pt(e.source.index)}
`,"onDragStart"),mo=o((e,t)=>{const n=e.droppableId===t.droppableId,r=pt(e.index),s=pt(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},"withLocation"),ho=o((e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,"withCombine"),al=o(e=>{const t=e.destination;if(t)return mo(e.source,t);const n=e.combine;return n?ho(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},"onDragUpdate"),ir=o(e=>`
  The item has returned to its starting position
  of ${pt(e.index)}
`,"returnedToStart"),ll=o(e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ir(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${mo(e.source,t)}
    `:n?`
      You have dropped the item.
      ${ho(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ir(e.source)}
  `},"onDragEnd"),at={dragHandleUsageInstructions:sl,onDragStart:il,onDragUpdate:al,onDragEnd:ll};function cl(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}o(cl,"isEqual$2");function xo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!cl(e[n],t[n]))return!1;return!0}o(xo,"areInputsEqual");function j(e,t){const n=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&xo(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}o(j,"useMemo");function w(e,t){return j(()=>e,t)}o(w,"useCallback");const M={x:0,y:0},G=o((e,t)=>({x:e.x+t.x,y:e.y+t.y}),"add"),q=o((e,t)=>({x:e.x-t.x,y:e.y-t.y}),"subtract"),oe=o((e,t)=>e.x===t.x&&e.y===t.y,"isEqual$1"),Ne=o(e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),"negate"),pe=o((e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},"patch"),He=o((e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),"distance"),ar=o((e,t)=>Math.min(...t.map(n=>He(e,n))),"closest$1"),bo=o(e=>t=>({x:e(t.x),y:e(t.y)}),"apply");var dl=o((e,t)=>{const n=Z({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},"executeClip");const Qe=o((e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),"offsetByPosition"),lr=o(e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],"getCorners"),ul={top:0,right:0,bottom:0,left:0},pl=o((e,t)=>t?Qe(e,t.scroll.diff.displacement):e,"scroll$1"),fl=o((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,"increase"),gl=o((e,t)=>t&&t.shouldClipSubject?dl(t.pageMarginBox,e):Z(e),"clip");var be=o(({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=pl(e.marginBox,r),i=fl(s,n,t),a=gl(i,r);return{page:e,withPlaceholder:t,active:a}},"getSubject"),mn=o((e,t)=>{e.frame||y();const n=e.frame,r=q(t,n.scroll.initial),s=Ne(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},a=be({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}},"scrollDroppable");function _(e,t=xo){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return o(r,"memoized"),r.clear=o(function(){n=null},"clear"),r}o(_,"memoizeOne");const vo=_(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),yo=_(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Dt=_(e=>Object.values(e)),ml=_(e=>Object.values(e));var Ee=_((e,t)=>ml(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function hn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}o(hn,"tryGetDestination");function St(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}o(St,"tryGetCombine");var Ct=_((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),hl=o(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!hn(s))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}o(a,"getImpact");const c=s.displaced.all,d=c.length?c[0]:null;if(e)return d?a(d):null;const p=Ct(t,r);if(!d){if(!p.length)return null;const m=p[p.length-1];return a(m.descriptor.id)}const g=p.findIndex(m=>m.descriptor.id===d);g===-1&&y();const u=g-1;if(u<0)return null;const f=p[u];return a(f.descriptor.id)},"moveToNextCombine"),Pe=o((e,t)=>e.descriptor.droppableId===t.descriptor.id,"isHomeOf");const Do={point:M,value:0},Ue={invisible:{},visible:{},all:[]},xl={displaced:Ue,displacedBy:Do,at:null};var Q=o((e,t)=>n=>e<=n&&n<=t,"isWithin"),So=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const d=r.top<e.top&&r.bottom>e.bottom,p=r.left<e.left&&r.right>e.right;return d&&p?!0:d&&a||p&&i}},"isPartiallyVisibleThroughFrame"),bl=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)},"isTotallyVisibleThroughFrame");const xn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Co={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var vl=o(e=>t=>{const n=Q(t.top,t.bottom),r=Q(t.left,t.right);return s=>e===xn?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)},"isTotallyVisibleThroughFrameOnAxis");const yl=o((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:M;return Qe(e,n)},"getDroppableDisplaced"),Dl=o((e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,"isVisibleInDroppable"),Sl=o((e,t,n)=>n(t)(e),"isVisibleInViewport"),bn=o(({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?yl(e,t):e;return Dl(i,t,s)&&Sl(i,n,s)},"isVisible$1"),Cl=o(e=>bn({...e,isVisibleThroughFrameFn:So}),"isPartiallyVisible"),Io=o(e=>bn({...e,isVisibleThroughFrameFn:bl}),"isTotallyVisible"),Il=o(e=>bn({...e,isVisibleThroughFrameFn:vl(e.destination.axis)}),"isTotallyVisibleOnAxis"),wl=o((e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0},"getShouldAnimate");function Nl(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Z(fn(n,r))}o(Nl,"getTarget");function qe({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(o(function(c,d){const p=Nl(d,n),g=d.descriptor.id;if(c.all.push(g),!Cl({target:p,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const f=wl(g,i,s),m={draggableId:g,shouldAnimate:f};return c.visible[g]=m,c},"process2"),{all:[],visible:{},invisible:{}})}o(qe,"getDisplacementGroups");function El(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}o(El,"getIndexOfLastItem");function cr({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=El(e,{inHomeList:t});return{displaced:Ue,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}o(cr,"goAtEnd");function ft({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:c}){const d=Pe(e,n);if(a==null)return cr({insideDestination:t,inHomeList:d,displacedBy:s,destination:n});const p=t.find(h=>h.descriptor.index===a);if(!p)return cr({insideDestination:t,inHomeList:d,displacedBy:s,destination:n});const g=Ct(e,t),u=t.indexOf(p),f=g.slice(u);return{displaced:qe({afterDragging:f,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:c}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}o(ft,"calculateReorderImpact");function se(e,t){return!!t.effected[e]}o(se,"didStartAfterCritical");var Pl=o(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,c=n[i].descriptor.index;return se(i,s)?e?c:c-1:e?c+1:c},"fromCombine"),Al=o(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,a=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return i<a||i>d?null:i},"fromReorder"),jl=o(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:c,afterCritical:d})=>{const p=a.at;if(p||y(),p.type==="REORDER"){const u=Al({isMovingForward:e,isInHomeList:t,location:p.destination,insideDestination:i});return u==null?null:ft({draggable:n,insideDestination:i,destination:s,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:u})}const g=Pl({isMovingForward:e,destination:s,displaced:a.displaced,draggables:r,combine:p.combine,afterCritical:d});return g==null?null:ft({draggable:n,insideDestination:i,destination:s,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:g})},"moveToNextIndex"),Rl=o(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return se(n,t)?s?M:Ne(r.point):s?r.point:M},"getCombinedItemDisplacement"),Ol=o(({afterCritical:e,impact:t,draggables:n})=>{const r=St(t);r||y();const s=r.draggableId,i=n[s].page.borderBox.center,a=Rl({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return G(i,a)},"whenCombining");const wo=o((e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,"distanceFromStartToBorderBoxCenter"),Tl=o((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,"distanceFromEndToBorderBoxCenter"),vn=o((e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,"getCrossAxisBorderBoxCenter"),dr=o(({axis:e,moveRelativeTo:t,isMoving:n})=>pe(e.line,t.marginBox[e.end]+wo(e,n),vn(e,t.marginBox,n)),"goAfter"),ur=o(({axis:e,moveRelativeTo:t,isMoving:n})=>pe(e.line,t.marginBox[e.start]-Tl(e,n),vn(e,t.marginBox,n)),"goBefore"),Bl=o(({axis:e,moveInto:t,isMoving:n})=>pe(e.line,t.contentBox[e.start]+wo(e,n),vn(e,t.contentBox,n)),"goIntoStart");var Ll=o(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=Ee(r.descriptor.id,n),a=t.page,c=r.axis;if(!i.length)return Bl({axis:c,moveInto:r.page,isMoving:a});const{displaced:d,displacedBy:p}=e,g=d.all[0];if(g){const f=n[g];if(se(g,s))return ur({axis:c,moveRelativeTo:f.page,isMoving:a});const m=ct(f.page,p.point);return ur({axis:c,moveRelativeTo:m,isMoving:a})}const u=i[i.length-1];if(u.descriptor.id===t.descriptor.id)return a.borderBox.center;if(se(u.descriptor.id,s)){const f=ct(u.page,Ne(s.displacedBy.point));return dr({axis:c,moveRelativeTo:f,isMoving:a})}return dr({axis:c,moveRelativeTo:u.page,isMoving:a})},"whenReordering"),Kt=o((e,t)=>{const n=e.frame;return n?G(t,n.scroll.diff.displacement):t},"withDroppableDisplacement");const _l=o(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,a=e.at;return!n||!a?i:a.type==="REORDER"?Ll({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):Ol({impact:e,draggables:r,afterCritical:s})},"getResultWithoutDroppableDisplacement");var It=o(e=>{const t=_l(e),n=e.droppable;return n?Kt(n,t):t},"getPageBorderBoxCenterFromImpact"),No=o((e,t)=>{const n=q(t,e.scroll.initial),r=Ne(n);return{frame:Z({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}},"scrollViewport");function pr(e,t){return e.map(n=>t[n])}o(pr,"getDraggables$1");function Ml(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}o(Ml,"tryGetVisible");var Fl=o(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=No(t,G(t.scroll.current,s)),a=n.frame?mn(n,G(n.frame.scroll.current,s)):n,c=e.displaced,d=qe({afterDragging:pr(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),p=qe({afterDragging:pr(c.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),g={},u={},f=[c,d,p];return c.all.forEach(h=>{const b=Ml(h,f);if(b){u[h]=b;return}g[h]=!0}),{...e,displaced:{all:c.all,invisible:g,visible:u}}},"speculativelyIncrease"),Gl=o((e,t)=>G(e.scroll.diff.displacement,t),"withViewportDisplacement"),yn=o(({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Gl(n,e),s=q(r,t.page.borderBox.center);return G(t.client.borderBox.center,s)},"getClientFromPageBorderBoxCenter"),Eo=o(({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=q(n,e.page.borderBox.center),d={target:Qe(e.page.borderBox,a),destination:t,withDroppableDisplacement:s,viewport:r};return i?Il(d):Io(d)},"isTotallyVisibleInNewLocation"),kl=o(({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const p=Ee(n.descriptor.id,r),g=Pe(t,n),u=hl({isMovingForward:e,draggable:t,destination:n,insideDestination:p,previousImpact:s})||jl({isMovingForward:e,isInHomeList:g,draggable:t,draggables:r,destination:n,insideDestination:p,previousImpact:s,viewport:i,afterCritical:d});if(!u)return null;const f=It({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:d});if(Eo({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:yn({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:u,scrollJumpRequest:null};const h=q(f,a),b=Fl({impact:u,viewport:i,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:c,impact:b,scrollJumpRequest:h}},"moveToNextPlace");const V=o(e=>{const t=e.subject.active;return t||y(),t},"getKnownActive");var $l=o(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,c=Q(i[a.start],i[a.end]),d=Dt(r).filter(g=>g!==n).filter(g=>g.isEnabled).filter(g=>!!g.subject.active).filter(g=>So(s.frame)(V(g))).filter(g=>{const u=V(g);return e?i[a.crossAxisEnd]<u[a.crossAxisEnd]:u[a.crossAxisStart]<i[a.crossAxisStart]}).filter(g=>{const u=V(g),f=Q(u[a.start],u[a.end]);return c(u[a.start])||c(u[a.end])||f(i[a.start])||f(i[a.end])}).sort((g,u)=>{const f=V(g)[a.crossAxisStart],m=V(u)[a.crossAxisStart];return e?f-m:m-f}).filter((g,u,f)=>V(g)[a.crossAxisStart]===V(f[0])[a.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const p=d.filter(g=>Q(V(g)[a.start],V(g)[a.end])(t[a.line]));return p.length===1?p[0]:p.length>1?p.sort((g,u)=>V(g)[a.start]-V(u)[a.start])[0]:d.sort((g,u)=>{const f=ar(t,lr(V(g))),m=ar(t,lr(V(u)));return f!==m?f-m:V(g)[a.start]-V(u)[a.start]})[0]},"getBestCrossAxisDroppable");const fr=o((e,t)=>{const n=e.page.borderBox.center;return se(e.descriptor.id,t)?q(n,t.displacedBy.point):n},"getCurrentPageBorderBoxCenter"),Wl=o((e,t)=>{const n=e.page.borderBox;return se(e.descriptor.id,t)?Qe(n,Ne(t.displacedBy.point)):n},"getCurrentPageBorderBox");var Vl=o(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>Io({target:Wl(a,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,c)=>{const d=He(e,Kt(n,fr(a,s))),p=He(e,Kt(n,fr(c,s)));return d<p?-1:p<d?1:a.descriptor.index-c.descriptor.index})[0]||null,"getClosestDraggable"),Ze=_(o(function(t,n){const r=n[t.line];return{value:r,point:pe(t.line,r)}},"getDisplacedBy2"));const Hl=o((e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return pe(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],d=Ee(e.descriptor.id,n).reduce((p,g)=>p+g.client.marginBox[r.size],0)+t[r.line]-s;return d<=0?null:pe(r.line,d)},"getRequiredGrowthForPlaceholder"),Po=o((e,t)=>({...e,scroll:{...e.scroll,max:t}}),"withMaxScroll"),Ao=o((e,t,n)=>{const r=e.frame;Pe(t,e)&&y(),e.subject.withPlaceholder&&y();const s=Ze(e.axis,t.displaceBy).point,i=Hl(e,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const g=be({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:g}}const c=i?G(r.scroll.max,i):r.scroll.max,d=Po(r,c),p=be({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:d});return{...e,subject:p,frame:d}},"addPlaceholder"),Ul=o(e=>{const t=e.subject.withPlaceholder;t||y();const n=e.frame;if(!n){const a=be({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||y();const s=Po(n,r),i=be({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}},"removePlaceholder");var ql=o(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:c})=>{if(!t){if(n.length)return null;const u={displaced:Ue,displacedBy:Do,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=It({impact:u,draggable:r,droppable:i,draggables:s,afterCritical:c}),m=Pe(r,i)?i:Ao(i,r,s);return Eo({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const d=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],p=(()=>{const u=t.descriptor.index;return t.descriptor.id===r.descriptor.id||d?u:u+1})(),g=Ze(i.axis,r.displaceBy);return ft({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:g,last:Ue,index:p})},"moveToNewDroppable"),zl=o(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:c})=>{const d=$l({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!d)return null;const p=Ee(d.descriptor.id,s),g=Vl({pageBorderBoxCenter:t,viewport:a,destination:d,insideDestination:p,afterCritical:c}),u=ql({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:s,moveRelativeTo:g,insideDestination:p,viewport:a,afterCritical:c});if(!u)return null;const f=It({impact:u,draggable:n,droppable:d,draggables:s,afterCritical:c});return{clientSelection:yn({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:u,scrollJumpRequest:null}},"moveCrossAxis"),z=o(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},"whatIsDraggedOver");const Yl=o((e,t)=>{const n=z(e);return n?t[n]:null},"getDroppableOver$1");var Kl=o(({state:e,type:t})=>{const n=Yl(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,a=i.axis.direction,c=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",p=e.dimensions.draggables[e.critical.draggable.id],g=e.current.page.borderBoxCenter,{draggables:u,droppables:f}=e.dimensions;return c?kl({isMovingForward:d,previousPageBorderBoxCenter:g,draggable:p,destination:i,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):zl({isMovingForward:d,previousPageBorderBoxCenter:g,draggable:p,isOver:i,draggables:u,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})},"moveInDirection");function ue(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}o(ue,"isMovementAllowed");function jo(e){const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return o(function(s){return t(s.y)&&n(s.x)},"run")}o(jo,"isPositionInFrame");function Jl(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}o(Jl,"getHasOverlap");function Xl({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const a=i.axis,c=pe(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:He(r,c)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}o(Xl,"getFurthestAway");function Ql({pageBorderBox:e,draggable:t,droppables:n}){const r=Dt(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Jl(e,i))return!1;if(jo(i)(e.center))return!0;const a=s.axis,c=i.center[a.crossAxisLine],d=e[a.crossAxisStart],p=e[a.crossAxisEnd],g=Q(i[a.crossAxisStart],i[a.crossAxisEnd]),u=g(d),f=g(p);return!u&&!f?!0:u?d<c:p>c});return r.length?r.length===1?r[0].descriptor.id:Xl({pageBorderBox:e,draggable:t,candidates:r}):null}o(Ql,"getDroppableOver");const Ro=o((e,t)=>Z(Qe(e,t)),"offsetRectByPosition");var Zl=o((e,t)=>{const n=e.frame;return n?Ro(t,n.scroll.diff.value):t},"withDroppableScroll");function Oo({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}o(Oo,"getIsDisplaced");function ec({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}o(ec,"atIndex");var tc=o(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const c=n.axis,d=Ze(n.axis,t.displaceBy),p=d.value,g=e[c.start],u=e[c.end],m=Ct(t,r).find(b=>{const x=b.descriptor.id,D=b.page.borderBox.center[c.line],S=se(x,a),N=Oo({displaced:s,id:x});return S?N?u<=D:g<D-p:N?u<=D+p:g<D})||null,h=ec({draggable:t,closest:m,inHomeList:Pe(t,n)});return ft({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:d,index:h})},"getReorderImpact");const nc=4;var rc=o(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,c=Ze(r.axis,e.displaceBy),d=c.value,p=t[a.start],g=t[a.end],f=Ct(e,s).find(h=>{const b=h.descriptor.id,x=h.page.borderBox,S=x[a.size]/nc,N=se(b,i),C=Oo({displaced:n.displaced,id:b});return N?C?g>x[a.start]+S&&g<x[a.end]-S:p>x[a.start]-d+S&&p<x[a.end]-d-S:C?g>x[a.start]+d+S&&g<x[a.end]+d-S:p>x[a.start]+S&&p<x[a.end]-S});return f?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},"getCombineImpact"),To=o(({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const c=Ro(t.page.borderBox,e),d=Ql({pageBorderBox:c,draggable:t,droppables:r});if(!d)return xl;const p=r[d],g=Ee(p.descriptor.id,n),u=Zl(p,c);return rc({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:s,destination:p,insideDestination:g,afterCritical:a})||tc({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:p,insideDestination:g,last:s.displaced,viewport:i,afterCritical:a})},"getDragImpact"),Dn=o((e,t)=>({...e,[t.descriptor.id]:t}),"patchDroppableMap");const oc=o(({previousImpact:e,impact:t,droppables:n})=>{const r=z(e),s=z(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=Ul(i);return Dn(n,a)},"clearUnusedPlaceholder");var sc=o(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=oc({previousImpact:r,impact:s,droppables:n}),a=z(s);if(!a)return i;const c=n[a];if(Pe(e,c)||c.subject.withPlaceholder)return i;const d=Ao(c,e,t);return Dn(i,d)},"recomputePlaceholders"),ke=o(({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||e.viewport,c=n||e.dimensions,d=t||e.current.client.selection,p=q(d,e.initial.client.selection),g={offset:p,selection:d,borderBoxCenter:G(e.initial.client.borderBoxCenter,p)},u={selection:G(g.selection,a.scroll.current),borderBoxCenter:G(g.borderBoxCenter,a.scroll.current),offset:G(g.offset,a.scroll.diff.value)},f={client:g,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:a,current:f};const m=c.draggables[e.critical.draggable.id],h=s||To({pageOffset:u.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),b=sc({draggable:m,impact:h,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:f,dimensions:{draggables:c.draggables,droppables:b},impact:h,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}},"update");function ic(e,t){return e.map(n=>t[n])}o(ic,"getDraggables");var Bo=o(({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,a=ic(i.all,n),c=qe({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:c}},"recompute"),Lo=o(({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=It({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return yn({pageBorderBoxCenter:a,draggable:t,viewport:s})},"getClientBorderBoxCenter"),_o=o(({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&y();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:c}=i,d=a[e.critical.draggable.id],p=z(r);p||y();const g=c[p],u=Bo({impact:r,viewport:s,destination:g,draggables:a}),f=Lo({impact:u,draggable:d,droppable:g,draggables:a,viewport:s,afterCritical:e.afterCritical});return ke({impact:u,clientSelection:f,state:e,dimensions:i,viewport:s})},"refreshSnap"),ac=o(e=>({index:e.index,droppableId:e.droppableId}),"getHomeLocation"),Mo=o(({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ze(t.axis,e.displaceBy),i=Ee(t.descriptor.id,n),a=i.indexOf(e);a===-1&&y();const c=i.slice(a+1),d=c.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),p={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:d};return{impact:{displaced:qe({afterDragging:c,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:ac(e.descriptor)}},afterCritical:p}},"getLiftEffect"),lc=o((e,t)=>({draggables:e.draggables,droppables:Dn(e.droppables,t)}),"patchDimensionMap"),cc=o(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=ct(e.client,t),s=dt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},"offsetDraggable"),dc=o(e=>{const t=e.frame;return t||y(),t},"getFrame"),uc=o(({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,a=t[i],d=dc(a).scroll.diff.value,p=G(r,d);return cc({draggable:s,offset:p,initialWindowScroll:n.scroll.initial})})},"adjustAdditionsForScrollChanges"),pc=o(({state:e,published:t})=>{const n=t.modified.map(D=>{const S=e.dimensions.droppables[D.droppableId];return mn(S,D.scroll)}),r={...e.dimensions.droppables,...vo(n)},s=yo(uc({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(D=>{delete i[D]});const a={droppables:r,draggables:i},c=z(e.impact),d=c?a.droppables[c]:null,p=a.draggables[e.critical.draggable.id],g=a.droppables[e.critical.droppable.id],{impact:u,afterCritical:f}=Mo({draggable:p,home:g,draggables:i,viewport:e.viewport}),m=d&&d.isCombineEnabled?e.impact:u,h=To({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:f}),b={...e,phase:"DRAGGING",impact:h,onLiftImpact:u,dimensions:a,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}},"publishWhileDraggingInVirtual");const Jt=o(e=>e.movementMode==="SNAP","isSnapping"),Bt=o((e,t,n)=>{const r=lc(e.dimensions,t);return!Jt(e)||n?ke({state:e,dimensions:r}):_o({state:e,dimensions:r})},"postDroppableChange");function Lt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}o(Lt,"removeScrollJumpRequest");const gr={phase:"IDLE",completed:null,shouldFlush:!1};var fc=o((e=gr,t)=>{if(t.type==="FLUSH")return{...gr,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&y();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=t.payload,c=i.draggables[n.draggable.id],d=i.droppables[n.droppable.id],p={selection:r,borderBoxCenter:c.client.borderBox.center,offset:M},g={client:p,page:{selection:G(p.selection,s.scroll.initial),borderBoxCenter:G(p.selection,s.scroll.initial),offset:G(p.selection,s.scroll.diff.value)}},u=Dt(i.droppables).every(b=>!b.isFixedOnPage),{impact:f,afterCritical:m}=Mo({draggable:c,home:d,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:g,current:g,isWindowScrollAllowed:u,impact:f,afterCritical:m,onLiftImpact:f,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||y(),pc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ue(e)||y();const{client:n}=t.payload;return oe(n,e.current.client.selection)?e:ke({state:e,clientSelection:n,impact:Jt(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Lt(e);ue(e)||y();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=mn(s,r);return Bt(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ue(e)||y();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isEnabled===r&&y();const i={...s,isEnabled:r};return Bt(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ue(e)||y();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isCombineEnabled===r&&y();const i={...s,isCombineEnabled:r};return Bt(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ue(e)||y(),e.isWindowScrollAllowed||y();const n=t.payload.newScroll;if(oe(e.viewport.scroll.current,n))return Lt(e);const r=No(e.viewport,n);return Jt(e)?_o({state:e,viewport:r}):ke({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ue(e))return e;const n=t.payload.maxScroll;if(oe(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&y();const n=Kl({state:e,type:t.type});return n?ke({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e},"reducer");function T(e,t){return e instanceof Object&&"type"in e&&e.type===t}o(T,"guard");const gc=o(e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),"beforeInitialCapture"),mc=o(e=>({type:"LIFT",payload:e}),"lift$1"),hc=o(e=>({type:"INITIAL_PUBLISH",payload:e}),"initialPublish"),xc=o(e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),"publishWhileDragging"),bc=o(()=>({type:"COLLECTION_STARTING",payload:null}),"collectionStarting"),vc=o(e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),"updateDroppableScroll"),yc=o(e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),"updateDroppableIsEnabled"),Dc=o(e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),"updateDroppableIsCombineEnabled"),Fo=o(e=>({type:"MOVE",payload:e}),"move"),Sc=o(e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),"moveByWindowScroll"),Cc=o(e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),"updateViewportMaxScroll"),Ic=o(()=>({type:"MOVE_UP",payload:null}),"moveUp"),wc=o(()=>({type:"MOVE_DOWN",payload:null}),"moveDown"),Nc=o(()=>({type:"MOVE_RIGHT",payload:null}),"moveRight"),Ec=o(()=>({type:"MOVE_LEFT",payload:null}),"moveLeft"),Sn=o(()=>({type:"FLUSH",payload:null}),"flush"),Pc=o(e=>({type:"DROP_ANIMATE",payload:e}),"animateDrop"),Cn=o(e=>({type:"DROP_COMPLETE",payload:e}),"completeDrop"),Go=o(e=>({type:"DROP",payload:e}),"drop"),Ac=o(e=>({type:"DROP_PENDING",payload:e}),"dropPending"),ko=o(()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),"dropAnimationFinished");var jc=o(e=>({getState:t,dispatch:n})=>r=>s=>{if(!T(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:c}=s.payload,d=t();d.phase==="DROP_ANIMATING"&&n(Cn({completed:d.completed})),t().phase!=="IDLE"&&y(),n(Sn()),n(gc({draggableId:i,movementMode:c}));const g={draggableId:i,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:u,dimensions:f,viewport:m}=e.startPublishing(g);n(hc({critical:u,dimensions:f,clientSelection:a,movementMode:c,viewport:m}))},"lift"),Rc=o(e=>()=>t=>n=>{T(n,"INITIAL_PUBLISH")&&e.dragging(),T(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(T(n,"FLUSH")||T(n,"DROP_COMPLETE"))&&e.resting(),t(n)},"style");const In={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ze={opacity:{drop:0,combining:.7},scale:{drop:.75}},$o={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},le=`${$o.outOfTheWay}s ${In.outOfTheWay}`,$e={fluid:`opacity ${le}`,snap:`transform ${le}, opacity ${le}`,drop:o(e=>{const t=`${e}s ${In.drop}`;return`transform ${t}, opacity ${t}`},"drop"),outOfTheWay:`transform ${le}`,placeholder:`height ${le}, width ${le}, margin ${le}`},mr=o(e=>oe(e,M)?void 0:`translate(${e.x}px, ${e.y}px)`,"moveTo"),Xt={moveTo:mr,drop:o((e,t)=>{const n=mr(e);if(n)return t?`${n} scale(${ze.scale.drop})`:n},"drop")},{minDropTime:Qt,maxDropTime:Wo}=$o,Oc=Wo-Qt,hr=1500,Tc=.6;var Bc=o(({current:e,destination:t,reason:n})=>{const r=He(e,t);if(r<=0)return Qt;if(r>=hr)return Wo;const s=r/hr,i=Qt+Oc*s,a=n==="CANCEL"?i*Tc:i;return Number(a.toFixed(2))},"getDropDuration"),Lc=o(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,c=z(e),d=c?a[c]:null,p=a[t.descriptor.droppableId],g=Lo({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:d||p,viewport:r});return q(g,t.client.borderBox.center)},"getNewHomeClientOffset"),_c=o(({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:Bo({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ue},didDropInsideDroppable:!0},"getDropImpact");const Mc=o(({getState:e,dispatch:t})=>n=>r=>{if(!T(r,"DROP")){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(Ac({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&y(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||y();const c=s.critical,d=s.dimensions,p=d.draggables[s.critical.draggable.id],{impact:g,didDropInsideDroppable:u}=_c({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=u?hn(g):null,m=u?St(g):null,h={index:c.draggable.index,droppableId:c.droppable.id},b={draggableId:p.descriptor.id,type:p.descriptor.type,source:h,reason:i,mode:s.movementMode,destination:f,combine:m},x=Lc({impact:g,draggable:p,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),D={critical:s.critical,afterCritical:s.afterCritical,result:b,impact:g};if(!(!oe(s.current.client.offset,x)||!!b.combine)){t(Cn({completed:D}));return}const N=Bc({current:s.current.client.offset,destination:x,reason:i});t(Pc({newHomeClientOffset:x,dropDuration:N,completed:D}))},"dropMiddleware");var Vo=o(()=>({x:window.pageXOffset,y:window.pageYOffset}),"getWindowScroll");function Fc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(t=>{t.target!==window&&t.target!==window.document||e()},"fn")}}o(Fc,"getWindowScrollBinding");function Gc({onWindowScroll:e}){function t(){e(Vo())}o(t,"updateScroll");const n=Ve(t),r=Fc(n);let s=re;function i(){return s!==re}o(i,"isActive2");function a(){i()&&y(),s=X(window,[r])}o(a,"start2");function c(){i()||y(),n.cancel(),s(),s=re}return o(c,"stop"),{start:a,stop:c,isActive:i}}o(Gc,"getScrollListener");const kc=o(e=>T(e,"DROP_COMPLETE")||T(e,"DROP_ANIMATE")||T(e,"FLUSH"),"shouldStop$1"),$c=o(e=>{const t=Gc({onWindowScroll:o(n=>{e.dispatch(Sc({newScroll:n}))},"onWindowScroll")});return n=>r=>{!t.isActive()&&T(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&kc(r)&&t.stop(),n(r)}},"scrollListener");var Wc=o(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o(i=>{t||n||(t=!0,e(i),clearTimeout(r))},"result");return s.wasCalled=()=>t,s},"getExpiringAnnounce"),Vc=o(()=>{const e=[],t=o(s=>{const i=e.findIndex(c=>c.timerId===s);i===-1&&y();const[a]=e.splice(i,1);a.callback()},"execute2");return{add:o(s=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:s};e.push(a)},"add2"),flush:o(()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})},"flush2")}},"getAsyncMarshal");const Hc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,"areLocationsEqual"),Uc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,"isCombineEqual"),qc=o((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},"isCriticalEqual"),Le=o((e,t)=>{t()},"withTimings"),rt=o((e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}),"getDragStart");function _t(e,t,n,r){if(!e){n(r(t));return}const s=Wc(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}o(_t,"execute");var zc=o((e,t)=>{const n=Vc();let r=null;const s=o((u,f)=>{r&&y(),Le("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:u,mode:f})})},"beforeCapture"),i=o((u,f)=>{r&&y(),Le("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(rt(u,f))})},"beforeStart"),a=o((u,f)=>{r&&y();const m=rt(u,f);r={mode:f,lastCritical:u,lastLocation:m.source,lastCombine:null},n.add(()=>{Le("onDragStart",()=>_t(e().onDragStart,m,t,at.onDragStart))})},"start2"),c=o((u,f)=>{const m=hn(f),h=St(f);r||y();const b=!qc(u,r.lastCritical);b&&(r.lastCritical=u);const x=!Hc(r.lastLocation,m);x&&(r.lastLocation=m);const D=!Uc(r.lastCombine,h);if(D&&(r.lastCombine=h),!b&&!x&&!D)return;const S={...rt(u,r.mode),combine:h,destination:m};n.add(()=>{Le("onDragUpdate",()=>_t(e().onDragUpdate,S,t,at.onDragUpdate))})},"update2"),d=o(()=>{r||y(),n.flush()},"flush2"),p=o(u=>{r||y(),r=null,Le("onDragEnd",()=>_t(e().onDragEnd,u,t,at.onDragEnd))},"drop2");return{beforeCapture:s,beforeStart:i,start:a,update:c,flush:d,drop:p,abort:o(()=>{if(!r)return;const u={...rt(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};p(u)},"abort")}},"getPublisher"),Yc=o((e,t)=>{const n=zc(e,t);return r=>s=>i=>{if(T(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(T(i,"INITIAL_PUBLISH")){const c=i.payload.critical;n.beforeStart(c,i.payload.movementMode),s(i),n.start(c,i.payload.movementMode);return}if(T(i,"DROP_COMPLETE")){const c=i.payload.completed.result;n.flush(),s(i),n.drop(c);return}if(s(i),T(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}},"responders");const Kc=o(e=>t=>n=>{if(!T(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&y(),e.dispatch(Cn({completed:r.completed}))},"dropAnimationFinishMiddleware"),Jc=o(e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o(r,"clear"),s=>i=>{if((T(i,"FLUSH")||T(i,"DROP_COMPLETE")||T(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!T(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:o(function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(ko())},"flushDropAnimation")};n=requestAnimationFrame(()=>{n=null,t=X(window,[a])})}},"dropAnimationFlushOnScrollMiddleware");var Xc=o(e=>()=>t=>n=>{(T(n,"DROP_COMPLETE")||T(n,"FLUSH")||T(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},"dimensionMarshalStopper"),Qc=o(e=>{let t=!1;return()=>n=>r=>{if(T(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(T(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(T(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}},"focus");const Zc=o(e=>T(e,"DROP_COMPLETE")||T(e,"DROP_ANIMATE")||T(e,"FLUSH"),"shouldStop");var ed=o(e=>t=>n=>r=>{if(Zc(r)){e.stop(),n(r);return}if(T(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&y(),e.start(s);return}n(r),e.scroll(t.getState())},"autoScroll");const td=o(e=>t=>n=>{if(t(n),!T(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Go({reason:r.reason})))},"pendingDrop"),nd=oo;var rd=o(({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>ro(fc,nd(ta(Rc(n),Xc(e),jc(e),Mc,Kc,Jc,td,ed(i),$c,Qc(t),Yc(r,s)))),"createStore");const Mt=o(()=>({additions:{},removals:{},modified:{}}),"clean$1");function od({registry:e,callbacks:t}){let n=Mt(),r=null;const s=o(()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:p,modified:g}=n,u=Object.keys(d).map(h=>e.draggable.getById(h).getDimension(M)).sort((h,b)=>h.descriptor.index-b.descriptor.index),f=Object.keys(g).map(h=>{const x=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:x}}),m={additions:u,removals:Object.keys(p),modified:f};n=Mt(),t.publish(m)}))},"collect");return{add:o(d=>{const p=d.descriptor.id;n.additions[p]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],s()},"add2"),remove:o(d=>{const p=d.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],s()},"remove"),stop:o(()=>{r&&(cancelAnimationFrame(r),r=null,n=Mt())},"stop")}}o(od,"createPublisher");var Ho=o(({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=q({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},"getMaxScroll"),Uo=o(()=>{const e=document.documentElement;return e||y(),e},"getDocumentElement"),qo=o(()=>{const e=Uo();return Ho({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},"getMaxWindowScroll"),sd=o(()=>{const e=Vo(),t=qo(),n=e.y,r=e.x,s=Uo(),i=s.clientWidth,a=s.clientHeight,c=r+i,d=n+a;return{frame:Z({top:n,left:r,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:M,displacement:M}}}},"getViewport"),id=o(({critical:e,scrollOptions:t,registry:n})=>{const r=sd(),s=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map(g=>g.callbacks.getDimensionAndWatchScroll(s,t)),c=n.draggable.getAllByType(e.draggable.type).map(g=>g.getDimension(s));return{dimensions:{draggables:yo(c),droppables:vo(a)},critical:e,viewport:r}},"getInitialPublish");function xr(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}o(xr,"shouldPublishUpdate");var ad=o((e,t)=>{let n=null;const r=od({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=o((f,m)=>{e.droppable.exists(f)||y(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:m})},"updateDroppableIsEnabled2"),i=o((f,m)=>{n&&(e.droppable.exists(f)||y(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},"updateDroppableIsCombineEnabled2"),a=o((f,m)=>{n&&(e.droppable.exists(f)||y(),t.updateDroppableScroll({id:f,newScroll:m}))},"updateDroppableScroll2"),c=o((f,m)=>{n&&e.droppable.getById(f).callbacks.scroll(m)},"scrollDroppable2"),d=o(()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},"stopPublishing"),p=o(f=>{n||y();const m=n.critical.draggable;f.type==="ADDITION"&&xr(e,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&xr(e,m,f.value)&&r.remove(f.value)},"subscriber");return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:c,updateDroppableScroll:a,startPublishing:o(f=>{n&&y();const m=e.draggable.getById(f.draggableId),h=e.droppable.getById(m.descriptor.droppableId),b={draggable:m.descriptor,droppable:h.descriptor},x=e.subscribe(p);return n={critical:b,unsubscribe:x},id({critical:b,registry:e,scrollOptions:f.scrollOptions})},"startPublishing"),stopPublishing:d}},"createDimensionMarshal"),zo=o((e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP","canStartDrag"),ld=o(e=>{window.scrollBy(e.x,e.y)},"scrollWindow");const cd=_(e=>Dt(e).filter(t=>!(!t.isEnabled||!t.frame))),dd=o((e,t)=>cd(t).find(r=>(r.frame||y(),jo(r.frame.pageMarginBox)(e)))||null,"getScrollableDroppableOver");var ud=o(({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return dd(e,n)},"getBestScrollableDroppable");const Ye={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:o(e=>e**2,"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var pd=o((e,t,n=()=>Ye)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},"getDistanceThresholds"),Yo=o(({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},"getPercentage"),wn=1,fd=o((e,t,n=()=>Ye)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return wn;const i=1-Yo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},"getValueFromDistance"),gd=o((e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,c=i,p=Date.now()-a;if(p>=i)return e;if(p<s)return wn;const g=Yo({startOfRange:s,endOfRange:c,current:p}),u=e*r.ease(g);return Math.ceil(u)},"dampenValueByTime"),br=o(({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=fd(e,t,s);return i===0?0:r?Math.max(gd(i,n,s),wn):i},"getValue"),vr=o(({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=pd(e,r,i);return t[r.end]<t[r.start]?br({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*br({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},"getScrollOnAxis"),md=o(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}},"adjustForSizeLimits");const hd=bo(e=>e===0?0:e);var Ko=o(({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=vr({container:t,distanceToEdges:a,dragStartTime:e,axis:xn,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=vr({container:t,distanceToEdges:a,dragStartTime:e,axis:Co,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),p=hd({x:d,y:c});if(oe(p,M))return null;const g=md({container:t,subject:n,proposedScroll:p});return g?oe(g,M)?null:g:null},"getScroll$1");const xd=bo(e=>e===0?0:e>0?1:-1),Nn=(()=>{const e=o((t,n)=>t<0?t:t>n?t-n:0,"getRemainder");return({current:t,max:n,change:r})=>{const s=G(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return oe(i,M)?null:i}})(),Jo=o(({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=xd(n),i=Nn({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},"canPartiallyScroll"),En=o((e,t)=>Jo({current:e.scroll.current,max:e.scroll.max,change:t}),"canScrollWindow"),bd=o((e,t)=>{if(!En(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Nn({current:r,max:n,change:t})},"getWindowOverlap"),Pn=o((e,t)=>{const n=e.frame;return n?Jo({current:n.scroll.current,max:n.scroll.max,change:t}):!1},"canScrollDroppable"),vd=o((e,t)=>{const n=e.frame;return!n||!Pn(e,t)?null:Nn({current:n.scroll.current,max:n.scroll.max,change:t})},"getDroppableOverlap");var yd=o(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=Ko({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&En(e,a)?a:null},"getWindowScrollChange"),Dd=o(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const c=Ko({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return c&&Pn(e,c)?c:null},"getDroppableScrollChange"),yr=o(({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,f=yd({dragStartTime:t,viewport:u,subject:d,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(f){r(f);return}}const p=ud({center:a,destination:z(e.impact),droppables:e.dimensions.droppables});if(!p)return;const g=Dd({dragStartTime:t,droppable:p,subject:d,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});g&&s(p.descriptor.id,g)},"scroll"),Sd=o(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=o(()=>Ye,"getAutoScrollerOptions")})=>{const r=Ve(e),s=Ve(t);let i=null;const a=o(p=>{i||y();const{shouldUseTimeDampening:g,dragStartTime:u}=i;yr({state:p,scrollWindow:r,scrollDroppable:s,dragStartTime:u,shouldUseTimeDampening:g,getAutoScrollerOptions:n})},"tryScroll");return{start:o(p=>{i&&y();const g=Date.now();let u=!1;const f=o(()=>{u=!0},"fakeScrollCallback");yr({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),i={dragStartTime:g,shouldUseTimeDampening:u},u&&a(p)},"start$1"),stop:o(()=>{i&&(r.cancel(),s.cancel(),i=null)},"stop"),scroll:a}},"createFluidScroller"),Cd=o(({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=o((c,d)=>{const p=G(c.current.client.selection,d);e({client:p})},"moveByOffset"),s=o((c,d)=>{if(!Pn(c,d))return d;const p=vd(c,d);if(!p)return t(c.descriptor.id,d),null;const g=q(d,p);return t(c.descriptor.id,g),q(d,g)},"scrollDroppableAsMuchAsItCan"),i=o((c,d,p)=>{if(!c||!En(d,p))return p;const g=bd(d,p);if(!g)return n(p),null;const u=q(p,g);return n(u),q(p,u)},"scrollWindowAsMuchAsItCan");return o(c=>{const d=c.scrollJumpRequest;if(!d)return;const p=z(c.impact);p||y();const g=s(c.dimensions.droppables[p],d);if(!g)return;const u=c.viewport,f=i(c.isWindowScrollAllowed,u,g);f&&r(c,f)},"jumpScroller")},"createJumpScroller"),Id=o(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=Sd({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=Cd({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:o(d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){s.scroll(d);return}d.scrollJumpRequest&&i(d)}},"scroll2"),start:s.start,stop:s.stop}},"createAutoScroller");const ve="data-rfd",ye=(()=>{const e=`${ve}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Zt=(()=>{const e=`${ve}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wd=(()=>{const e=`${ve}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Dr={contextId:`${ve}-scroll-container-context-id`},Nd=o(e=>t=>`[${t}="${e}"]`,"makeGetSelector"),_e=o((e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),"getStyles"),Ed="pointer-events: none;";var Pd=o(e=>{const t=Nd(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:Ed,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${$e.outOfTheWay};
    `;return{selector:t(Zt.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),s={selector:t(wd.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_e(a,"always"),resting:_e(a,"resting"),dragging:_e(a,"dragging"),dropAnimating:_e(a,"dropAnimating"),userCancel:_e(a,"userCancel")}},"getStyles$1");const Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Ft=o(()=>{const e=document.querySelector("head");return e||y(),e},"getHead"),Sr=o(e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},"createStyleEl");function Ad(e,t){const n=j(()=>Pd(e),[e]),r=v.useRef(null),s=v.useRef(null),i=w(_(u=>{const f=s.current;f||y(),f.textContent=u}),[]),a=w(u=>{const f=r.current;f||y(),f.textContent=u},[]);Y(()=>{!r.current&&!s.current||y();const u=Sr(t),f=Sr(t);return r.current=u,s.current=f,u.setAttribute(`${ve}-always`,e),f.setAttribute(`${ve}-dynamic`,e),Ft().appendChild(u),Ft().appendChild(f),a(n.always),i(n.resting),()=>{const m=o(h=>{const b=h.current;b||y(),Ft().removeChild(b),h.current=null},"remove");m(r),m(s)}},[t,a,i,n.always,n.resting,e]);const c=w(()=>i(n.dragging),[i,n.dragging]),d=w(u=>{if(u==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),p=w(()=>{s.current&&i(n.resting)},[i,n.resting]);return j(()=>({dragging:c,dropping:d,resting:p}),[c,d,p])}o(Ad,"useStyleMarshal");function Xo(e,t){return Array.from(e.querySelectorAll(t))}o(Xo,"querySelectorAll");var Qo=o(e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window,"getWindowFromEl");function wt(e){return e instanceof Qo(e).HTMLElement}o(wt,"isHtmlElement");function jd(e,t){const n=`[${ye.contextId}="${e}"]`,r=Xo(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(ye.draggableId)===t);return!s||!wt(s)?null:s}o(jd,"findDragHandle");function Rd(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),i=w(o(function(f,m){const h={id:f,focus:m};return t.current[f]=h,o(function(){const x=t.current;x[f]!==h&&delete x[f]},"unregister")},"register2"),[]),a=w(o(function(f){const m=jd(e,f);m&&m!==document.activeElement&&m.focus()},"tryGiveFocus2"),[e]),c=w(o(function(f,m){n.current===f&&(n.current=m)},"tryShiftRecord2"),[]),d=w(o(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&a(f)}))},"tryRestoreFocusRecorded2"),[a]),p=w(o(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(ye.draggableId)===f&&(n.current=f)},"tryRecordFocus2"),[]);return Y(()=>(s.current=!0,o(function(){s.current=!1;const f=r.current;f&&cancelAnimationFrame(f)},"clearFrameOnUnmount")),[]),j(()=>({register:i,tryRecordFocus:p,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[i,p,d,c])}o(Rd,"useFocusMarshal");function Od(){const e={draggables:{},droppables:{}},t=[];function n(u){return t.push(u),o(function(){const m=t.indexOf(u);m!==-1&&t.splice(m,1)},"unsubscribe")}o(n,"subscribe");function r(u){t.length&&t.forEach(f=>f(u))}o(r,"notify");function s(u){return e.draggables[u]||null}o(s,"findDraggableById");function i(u){const f=s(u);return f||y(),f}o(i,"getDraggableById");const a={register:o(u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},"register"),update:o((u,f)=>{const m=e.draggables[f.descriptor.id];m&&m.uniqueId===u.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[u.descriptor.id]=u)},"update"),unregister:o(u=>{const f=u.descriptor.id,m=s(f);m&&u.uniqueId===m.uniqueId&&(delete e.draggables[f],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},"unregister"),getById:i,findById:s,exists:o(u=>!!s(u),"exists"),getAllByType:o(u=>Object.values(e.draggables).filter(f=>f.descriptor.type===u),"getAllByType")};function c(u){return e.droppables[u]||null}o(c,"findDroppableById");function d(u){const f=c(u);return f||y(),f}o(d,"getDroppableById");const p={register:o(u=>{e.droppables[u.descriptor.id]=u},"register"),unregister:o(u=>{const f=c(u.descriptor.id);f&&u.uniqueId===f.uniqueId&&delete e.droppables[u.descriptor.id]},"unregister"),getById:d,findById:c,exists:o(u=>!!c(u),"exists"),getAllByType:o(u=>Object.values(e.droppables).filter(f=>f.descriptor.type===u),"getAllByType")};function g(){e.draggables={},e.droppables={},t.length=0}return o(g,"clean2"),{draggable:a,droppable:p,subscribe:n,clean:g}}o(Od,"createRegistry");function Td(){const e=j(Od,[]);return v.useEffect(()=>o(function(){e.clean()},"unmount"),[e]),e}o(Td,"useRegistry");var An=L.createContext(null),gt=o(()=>{const e=document.body;return e||y(),e},"getBodyElement");const Bd={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ld=o(e=>`rfd-announcement-${e}`,"getId");function _d(e){const t=j(()=>Ld(e),[e]),n=v.useRef(null);return v.useEffect(o(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ut(i.style,Bd),gt().appendChild(i),o(function(){setTimeout(o(function(){const d=gt();d.contains(i)&&d.removeChild(i),i===n.current&&(n.current=null)},"remove"))},"cleanup")},"setup"),[t]),w(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}o(_d,"useAnnouncer");const Md={separator:"::"};function jn(e,t=Md){const n=L.useId();return j(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}o(jn,"useUniqueId");function Fd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}o(Fd,"getElementId");function Gd({contextId:e,text:t}){const n=jn("hidden-text",{separator:"-"}),r=j(()=>Fd({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(o(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",gt().appendChild(i),o(function(){const c=gt();c.contains(i)&&c.removeChild(i)},"unmount")},"mount"),[r,t]),r}o(Gd,"useHiddenTextElement");var Nt=L.createContext(null);function Zo(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}o(Zo,"usePrevious");function kd(){let e=null;function t(){return!!e}o(t,"isClaimed");function n(a){return a===e}o(n,"isActive2");function r(a){e&&y();const c={abandon:a};return e=c,c}o(r,"claim");function s(){e||y(),e=null}o(s,"release");function i(){e&&(e.abandon(),s())}return o(i,"tryAbandon"),{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}o(kd,"create");function Ke(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}o(Ke,"isDragging");const $d=9,Wd=13,Rn=27,es=32,Vd=33,Hd=34,Ud=35,qd=36,zd=37,Yd=38,Kd=39,Jd=40,Xd={[Wd]:!0,[$d]:!0};var ts=o(e=>{Xd[e.keyCode]&&e.preventDefault()},"preventStandardKeyEvents");const Et=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),ns=0,Cr=5;function Qd(e,t){return Math.abs(t.x-e.x)>=Cr||Math.abs(t.y-e.y)>=Cr}o(Qd,"isSloppyClickThresholdExceeded");const Ir={type:"IDLE"};function Zd({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o(s=>{const{button:i,clientX:a,clientY:c}=s;if(i!==ns)return;const d={x:a,y:c},p=n();if(p.type==="DRAGGING"){s.preventDefault(),p.actions.move(d);return}p.type!=="PENDING"&&y();const g=p.point;if(!Qd(g,d))return;s.preventDefault();const u=p.actions.fluidLift(d);r({type:"DRAGGING",actions:u})},"fn")},{eventName:"mouseup",fn:o(s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"mousedown",fn:o(s=>{n().type==="DRAGGING"&&s.preventDefault(),e()},"fn")},{eventName:"keydown",fn:o(s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Rn){s.preventDefault(),e();return}ts(s)},"fn")},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(()=>{n().type==="PENDING"&&e()},"fn")},{eventName:"webkitmouseforcedown",fn:o(s=>{const i=n();if(i.type==="IDLE"&&y(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()},"fn")},{eventName:Et,fn:e}]}o(Zd,"getCaptureBindings");function eu(e){const t=v.useRef(Ir),n=v.useRef(re),r=j(()=>({eventName:"mousedown",fn:o(function(u){if(u.defaultPrevented||u.button!==ns||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.tryGetLock(f,a,{sourceEvent:u});if(!m)return;u.preventDefault();const h={x:u.clientX,y:u.clientY};n.current(),p(m,h)},"onMouseDown")}),[e]),s=j(()=>({eventName:"webkitmouseforcewillbegin",fn:o(g=>{if(g.defaultPrevented)return;const u=e.findClosestDraggableId(g);if(!u)return;const f=e.findOptionsForDraggable(u);f&&(f.shouldRespectForcePress||e.canGetLock(u)&&g.preventDefault())},"fn")}),[e]),i=w(o(function(){const u={passive:!1,capture:!0};n.current=X(window,[s,r],u)},"listenForCapture2"),[s,r]),a=w(()=>{t.current.type!=="IDLE"&&(t.current=Ir,n.current(),i())},[i]),c=w(()=>{const g=t.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),d=w(o(function(){const u={capture:!0,passive:!1},f=Zd({cancel:c,completed:a,getPhase:o(()=>t.current,"getPhase"),setPhase:o(m=>{t.current=m},"setPhase")});n.current=X(window,f,u)},"bindCapturingEvents2"),[c,a]),p=w(o(function(u,f){t.current.type!=="IDLE"&&y(),t.current={type:"PENDING",point:f,actions:u},d()},"startPendingDrag2"),[d]);Y(o(function(){return i(),o(function(){n.current()},"unmount")},"mount"),[i])}o(eu,"useMouseSensor");function tu(){}o(tu,"noop$1");const nu={[Hd]:!0,[Vd]:!0,[qd]:!0,[Ud]:!0};function ru(e,t){function n(){t(),e.cancel()}o(n,"cancel");function r(){t(),e.drop()}return o(r,"drop2"),[{eventName:"keydown",fn:o(s=>{if(s.keyCode===Rn){s.preventDefault(),n();return}if(s.keyCode===es){s.preventDefault(),r();return}if(s.keyCode===Jd){s.preventDefault(),e.moveDown();return}if(s.keyCode===Yd){s.preventDefault(),e.moveUp();return}if(s.keyCode===Kd){s.preventDefault(),e.moveRight();return}if(s.keyCode===zd){s.preventDefault(),e.moveLeft();return}if(nu[s.keyCode]){s.preventDefault();return}ts(s)},"fn")},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Et,fn:n}]}o(ru,"getDraggingBindings");function ou(e){const t=v.useRef(tu),n=j(()=>({eventName:"keydown",fn:o(function(i){if(i.defaultPrevented||i.keyCode!==es)return;const a=e.findClosestDraggableId(i);if(!a)return;const c=e.tryGetLock(a,g,{sourceEvent:i});if(!c)return;i.preventDefault();let d=!0;const p=c.snapLift();t.current();function g(){d||y(),d=!1,t.current(),r()}o(g,"stop"),t.current=X(window,ru(p,g),{capture:!0,passive:!1})},"onKeyDown")}),[e]),r=w(o(function(){const i={passive:!1,capture:!0};t.current=X(window,[n],i)},"tryStartCapture"),[n]);Y(o(function(){return r(),o(function(){t.current()},"unmount")},"mount"),[r])}o(ou,"useKeyboardSensor");const Gt={type:"IDLE"},su=120,iu=.15;function au({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:o(n=>{n.preventDefault()},"fn")},{eventName:"keydown",fn:o(n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Rn&&n.preventDefault(),e()},"fn")},{eventName:Et,fn:e}]}o(au,"getWindowBindings");function lu({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],c={x:i,y:a};r.preventDefault(),s.actions.move(c)},"fn")},{eventName:"touchend",fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"touchcancel",fn:o(r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()},"fn")},{eventName:"touchforcechange",fn:o(r=>{const s=n();s.type==="IDLE"&&y();const i=r.touches[0];if(!i||!(i.force>=iu))return;const c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&e();return}if(c){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()},"fn")},{eventName:Et,fn:e}]}o(lu,"getHandleBindings");function cu(e){const t=v.useRef(Gt),n=v.useRef(re),r=w(o(function(){return t.current},"getPhase2"),[]),s=w(o(function(m){t.current=m},"setPhase2"),[]),i=j(()=>({eventName:"touchstart",fn:o(function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const b=e.tryGetLock(h,c,{sourceEvent:m});if(!b)return;const x=m.touches[0],{clientX:D,clientY:S}=x,N={x:D,y:S};n.current(),u(b,N)},"onTouchStart")}),[e]),a=w(o(function(){const m={capture:!0,passive:!1};n.current=X(window,[i],m)},"listenForCapture2"),[i]),c=w(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),s(Gt),n.current(),a())},[a,s]),d=w(()=>{const f=t.current;c(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[c]),p=w(o(function(){const m={capture:!0,passive:!1},h={cancel:d,completed:c,getPhase:r},b=X(window,lu(h),m),x=X(window,au(h),m);n.current=o(function(){b(),x()},"unbindAll")},"bindCapturingEvents2"),[d,r,c]),g=w(o(function(){const m=r();m.type!=="PENDING"&&y();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},"startDragging2"),[r,s]),u=w(o(function(m,h){r().type!=="IDLE"&&y();const b=setTimeout(g,su);s({type:"PENDING",point:h,actions:m,longPressTimerId:b}),p()},"startPendingDrag2"),[p,r,s,g]);Y(o(function(){return a(),o(function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Gt))},"unmount")},"mount"),[r,a,s]),Y(o(function(){return X(window,[{eventName:"touchmove",fn:o(()=>{},"fn"),options:{capture:!1,passive:!1}}])},"webkitHack"),[])}o(cu,"useTouchSensor");const du=["input","button","textarea","select","option","optgroup","video","audio"];function rs(e,t){if(t==null)return!1;if(du.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:rs(e,t.parentElement)}o(rs,"isAnInteractiveElement");function uu(e,t){const n=t.target;return wt(n)?rs(e,n):!1}o(uu,"isEventInInteractiveElement");var pu=o(e=>Z(e.getBoundingClientRect()).center,"getBorderBoxCenterPosition");function fu(e){return e instanceof Qo(e).Element}o(fu,"isElement");const gu=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function os(e,t){return e==null?null:e[gu](t)?e:os(e.parentElement,t)}o(os,"closestPonyfill");function mu(e,t){return e.closest?e.closest(t):os(e,t)}o(mu,"closest");function hu(e){return`[${ye.contextId}="${e}"]`}o(hu,"getSelector");function xu(e,t){const n=t.target;if(!fu(n))return null;const r=hu(e),s=mu(n,r);return!s||!wt(s)?null:s}o(xu,"findClosestDragHandleFromEvent");function bu(e,t){const n=xu(e,t);return n?n.getAttribute(ye.draggableId):null}o(bu,"tryGetClosestDraggableIdFromEvent");function vu(e,t){const n=`[${Zt.contextId}="${e}"]`,s=Xo(document,n).find(i=>i.getAttribute(Zt.id)===t);return!s||!wt(s)?null:s}o(vu,"findDraggable");function yu(e){e.preventDefault()}o(yu,"preventDefault");function ot({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}o(ot,"isActive");function ss({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!zo(t.getState(),r))}o(ss,"canStart");function Du({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!ss({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const d=r.draggable.getById(s),p=vu(t,d.descriptor.id);if(!p||a&&!d.options.canDragInteractiveElements&&uu(p,a))return null;const g=e.claim(i||re);let u="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}o(f,"getShouldRespectForcePress");function m(){return e.isActive(g)}o(m,"isLockActive");function h(I,E){ot({expected:I,phase:u,isLockActive:m,shouldWarn:!0})&&n.dispatch(E())}o(h,"tryDispatch");const b=h.bind(null,"DRAGGING");function x(I){function E(){e.release(),u="COMPLETED"}o(E,"completed"),u!=="PRE_DRAG"&&(E(),y()),n.dispatch(mc(I.liftActionArgs)),u="DRAGGING";function R(O,k={shouldBlockNextClick:!1}){if(I.cleanup(),k.shouldBlockNextClick){const P=X(window,[{eventName:"click",fn:yu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}E(),n.dispatch(Go({reason:O}))}return o(R,"finish2"),{isActive:o(()=>ot({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:f,drop:o(O=>R("DROP",O),"drop"),cancel:o(O=>R("CANCEL",O),"cancel"),...I.actions}}o(x,"lift2");function D(I){const E=Ve(O=>{b(()=>Fo({client:O}))});return{...x({liftActionArgs:{id:s,clientSelection:I,movementMode:"FLUID"},cleanup:o(()=>E.cancel(),"cleanup"),actions:{move:E}}),move:E}}o(D,"fluidLift");function S(){const I={moveUp:o(()=>b(Ic),"moveUp"),moveRight:o(()=>b(Nc),"moveRight"),moveDown:o(()=>b(wc),"moveDown"),moveLeft:o(()=>b(Ec),"moveLeft")};return x({liftActionArgs:{id:s,clientSelection:pu(p),movementMode:"SNAP"},cleanup:re,actions:I})}o(S,"snapLift");function N(){ot({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&e.release()}return o(N,"abortPreDrag"),{isActive:o(()=>ot({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:f,fluidLift:D,snapLift:S,abort:N}}o(Du,"tryStart");const Su=[eu,ou,cu];function Cu({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?Su:[],...r||[]],a=v.useState(()=>kd())[0],c=w(o(function(x,D){Ke(x)&&!Ke(D)&&a.tryAbandon()},"tryAbandonLock2"),[a]);Y(o(function(){let x=t.getState();return t.subscribe(()=>{const S=t.getState();c(x,S),x=S})},"listenToStore"),[a,t,c]),Y(()=>a.tryAbandon,[a.tryAbandon]);const d=w(b=>ss({lockAPI:a,registry:n,store:t,draggableId:b}),[a,n,t]),p=w((b,x,D)=>Du({lockAPI:a,registry:n,contextId:e,store:t,draggableId:b,forceSensorStop:x||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,a,n,t]),g=w(b=>bu(e,b),[e]),u=w(b=>{const x=n.draggable.findById(b);return x?x.options:null},[n.draggable]),f=w(o(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Sn()))},"tryReleaseLock2"),[a,t]),m=w(()=>a.isClaimed(),[a]),h=j(()=>({canGetLock:d,tryGetLock:p,findClosestDraggableId:g,findOptionsForDraggable:u,tryReleaseLock:f,isLockClaimed:m}),[d,p,g,u,f,m]);for(let b=0;b<i.length;b++)i[b](h)}o(Cu,"useSensorMarshal");const Iu=o(e=>({onBeforeCapture:o(t=>{const n=o(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)},"onBeforeCapureCallback");Vr.flushSync(n)},"onBeforeCapture"),onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),"createResponders"),wu=o(e=>({...Ye,...e.autoScrollerOptions,durationDampening:{...Ye.durationDampening,...e.autoScrollerOptions}}),"createAutoScrollerOptions");function Me(e){return e.current||y(),e.current}o(Me,"getStore");function Nu(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,a=v.useRef(null),c=Zo(e),d=w(()=>Iu(c.current),[c]),p=w(()=>wu(c.current),[c]),g=_d(t),u=Gd({contextId:t,text:i}),f=Ad(t,s),m=w(P=>{Me(a).dispatch(P)},[]),h=j(()=>Jn({publishWhileDragging:xc,updateDroppableScroll:vc,updateDroppableIsEnabled:yc,updateDroppableIsCombineEnabled:Dc,collectionStarting:bc},m),[m]),b=Td(),x=j(()=>ad(b,h),[b,h]),D=j(()=>Id({scrollWindow:ld,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:p,...Jn({move:Fo},m)}),[x.scrollDroppable,m,p]),S=Rd(t),N=j(()=>rd({announce:g,autoScroller:D,dimensionMarshal:x,focusMarshal:S,getResponders:d,styleMarshal:f}),[g,D,x,S,d,f]);a.current=N;const C=w(()=>{const P=Me(a);P.getState().phase!=="IDLE"&&P.dispatch(Sn())},[]),I=w(()=>{const P=Me(a).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),E=j(()=>({isDragging:I,tryAbort:C}),[I,C]);n(E);const R=w(P=>zo(Me(a).getState(),P),[]),O=w(()=>ue(Me(a).getState()),[]),k=j(()=>({marshal:x,focus:S,contextId:t,canLift:R,isMovementAllowed:O,dragHandleUsageInstructionsId:u,registry:b}),[t,x,u,S,R,O,b]);return Cu({contextId:t,store:N,registry:b,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>C,[C]),L.createElement(Nt.Provider,{value:k},L.createElement(Qa,{context:An,store:N},e.children))}o(Nu,"App");function Eu(){return L.useId()}o(Eu,"useUniqueContextId");function Pu(e){const t=Eu(),n=e.dragHandleUsageInstructions||at.dragHandleUsageInstructions;return L.createElement(Yt,null,r=>L.createElement(Nu,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}o(Pu,"DragDropContext");const wr={dragging:5e3,dropAnimating:4500},Au=o((e,t)=>t?$e.drop(t.duration):e?$e.snap:$e.fluid,"getDraggingTransition"),ju=o((e,t)=>{if(e)return t?ze.opacity.drop:ze.opacity.combining},"getDraggingOpacity"),Ru=o(e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP","getShouldDraggingAnimate");function Ou(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,a=!!s,c=Ru(e),d=!!i,p=d?Xt.drop(r,a):Xt.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Au(c,i),transform:p,opacity:ju(a,d),zIndex:d?wr.dropAnimating:wr.dragging,pointerEvents:"none"}}o(Ou,"getDraggingStyle");function Tu(e){return{transform:Xt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}o(Tu,"getSecondaryStyle");function Bu(e){return e.type==="DRAGGING"?Ou(e):Tu(e)}o(Bu,"getStyle$1");function Lu(e,t,n=M){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=po(s,r),a=dt(i,n),c={client:i,tagName:t.tagName.toLowerCase(),display:r.display},d={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:i,page:a}}o(Lu,"getDimension$1");function _u(e){const t=jn("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:c}=e,d=j(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:c}),[i,c,a]),p=w(m=>{const h=s();return h||y(),Lu(n,h,m)},[n,s]),g=j(()=>({uniqueId:t,descriptor:n,options:d,getDimension:p}),[n,p,d,t]),u=v.useRef(g),f=v.useRef(!0);Y(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),Y(()=>{if(f.current){f.current=!1;return}const m=u.current;u.current=g,r.draggable.update(g,m)},[g,r.draggable])}o(_u,"useDraggablePublisher");var On=L.createContext(null);function mt(e){const t=v.useContext(e);return t||y(),t}o(mt,"useRequiredContext");function Mu(e){e.preventDefault()}o(Mu,"preventHtml5Dnd");const Fu=o(e=>{const t=v.useRef(null),n=w((E=null)=>{t.current=E},[]),r=w(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=mt(Nt),{type:c,droppableId:d}=mt(On),p=j(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:g,draggableId:u,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:b,mapped:x,dropAnimationFinished:D}=e;if(!b){const E=j(()=>({descriptor:p,registry:a,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:f}),[p,a,r,h,m,f]);_u(E)}const S=j(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Mu}:null,[s,i,u,f]),N=w(E=>{x.type==="DRAGGING"&&x.dropping&&E.propertyName==="transform"&&Vr.flushSync(D)},[D,x]),C=j(()=>{const E=Bu(x),R=x.type==="DRAGGING"&&x.dropping?N:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":u,style:E,onTransitionEnd:R},dragHandleProps:S}},[s,S,u,x,N,n]),I=j(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return L.createElement(L.Fragment,null,g(C,x.snapshot,I))},"Draggable");var is=o((e,t)=>e===t,"isStrictEqual"),as=o(e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null},"whatIsDraggedOverFromResult");const Gu=o(e=>e.combine?e.combine.draggableId:null,"getCombineWithFromResult"),ku=o(e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null,"getCombineWithFromImpact");function $u(){const e=_((s,i)=>({x:s,y:i})),t=_((s,i,a=null,c=null,d=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:s,draggingOver:a,combineWith:c,combineTargetFor:null})),n=_((s,i,a,c,d=null,p=null,g=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:p,mode:i,offset:s,dimension:a,forceShouldAnimate:g,snapshot:t(i,c,d,p,null)}}));return o((s,i)=>{if(Ke(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,c=s.dimensions.draggables[i.draggableId],d=z(s.impact),p=ku(s.impact),g=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,c,i.isClone,d,p,g)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const c=i.isClone,d=s.dimensions.draggables[i.draggableId],p=a.result,g=p.mode,u=as(p),f=Gu(p),h={duration:s.dropDuration,curve:In.drop,moveTo:s.newHomeClientOffset,opacity:f?ze.opacity.drop:null,scale:f?ze.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:d,dropping:h,draggingOver:u,combineWith:f,mode:g,forceShouldAnimate:null,snapshot:t(g,c,u,f,h)}}}return null},"selector")}o($u,"getDraggableSelector");function ls(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}o(ls,"getSecondarySnapshot");const Wu={mapped:{type:"SECONDARY",offset:M,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ls(null)}};function Vu(){const e=_((a,c)=>({x:a,y:c})),t=_(ls),n=_((a,c=null,d)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),r=o(a=>a?n(M,a,!0):null,"getFallback"),s=o((a,c,d,p)=>{const g=d.displaced.visible[a],u=!!(p.inVirtualList&&p.effected[a]),f=St(d),m=f&&f.draggableId===a?c:null;if(!g){if(!u)return r(m);if(d.displaced.invisible[a])return null;const x=Ne(p.displacedBy.point),D=e(x.x,x.y);return n(D,m,!0)}if(u)return r(m);const h=d.displacedBy.point,b=e(h.x,h.y);return n(b,m,g.shouldAnimate)},"getProps");return o((a,c)=>{if(Ke(a))return a.critical.draggable.id===c.draggableId?null:s(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const d=a.completed;return d.result.draggableId===c.draggableId?null:s(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null},"selector")}o(Vu,"getSecondarySelector");const Hu=o(()=>{const e=$u(),t=Vu();return o((r,s)=>e(r,s)||t(r,s)||Wu,"selector")},"makeMapStateToProps$1"),Uu={dropAnimationFinished:ko},qu=uo(Hu,Uu,null,{context:An,areStatePropsEqual:is})(Fu);function cs(e){return mt(On).isUsingCloneFor===e.draggableId&&!e.isClone?null:L.createElement(qu,e)}o(cs,"PrivateDraggable");function zu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return L.createElement(cs,ut({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}o(zu,"PublicDraggable");const ds=o(e=>t=>e===t,"isEqual"),Yu=ds("scroll"),Ku=ds("auto"),Nr=o((e,t)=>t(e.overflowX)||t(e.overflowY),"isEither"),Ju=o(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Nr(n,Yu)||Nr(n,Ku)},"isElementScrollable"),Xu=o(()=>!1,"isBodyScrollable"),us=o(e=>e==null?null:e===document.body?Xu()?e:null:e===document.documentElement?null:Ju(e)?e:us(e.parentElement),"getClosestScrollable");var en=o(e=>({x:e.scrollLeft,y:e.scrollTop}),"getScroll");const ps=o(e=>e?window.getComputedStyle(e).position==="fixed"?!0:ps(e.parentElement):!1,"getIsFixed");var Qu=o(e=>{const t=us(e),n=ps(e);return{closestScrollable:t,isFixedOnPage:n}},"getEnv"),Zu=o(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:f,client:m}=c,h=Ho({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:h,diff:{value:M,displacement:M}}}})(),p=s==="vertical"?xn:Co,g=be({page:a,withPlaceholder:null,axis:p,frame:d});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:p,isEnabled:t,client:i,page:a,frame:d,subject:g}},"getDroppableDimension");const ep=o((e,t)=>{const n=fo(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=s+t.scrollWidth,d=fn({top:r,right:a,bottom:i,left:s},n.border);return gn({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})},"getClient");var tp=o(({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:c})=>{const d=n.closestScrollable,p=ep(e,d),g=dt(p,r),u=(()=>{if(!d)return null;const m=fo(d),h={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:m,page:dt(m,r),scroll:en(d),scrollSize:h,shouldClipSubject:c}})();return Zu({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:p,page:g,closest:u})},"getDimension");const np={passive:!1},rp={passive:!0};var Er=o(e=>e.shouldPublishImmediately?np:rp,"getListenerOptions");const st=o(e=>e&&e.env.closestScrollable||null,"getClosestScrollableFromDrag");function op(e){const t=v.useRef(null),n=mt(Nt),r=jn("droppable"),{registry:s,marshal:i}=n,a=Zo(e),c=j(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=v.useRef(c),p=j(()=>_((C,I)=>{t.current||y();const E={x:C,y:I};i.updateDroppableScroll(c.id,E)}),[c.id,i]),g=w(()=>{const C=t.current;return!C||!C.env.closestScrollable?M:en(C.env.closestScrollable)},[]),u=w(()=>{const C=g();p(C.x,C.y)},[g,p]),f=j(()=>Ve(u),[u]),m=w(()=>{const C=t.current,I=st(C);if(C&&I||y(),C.scrollOptions.shouldPublishImmediately){u();return}f()},[f,u]),h=w((C,I)=>{t.current&&y();const E=a.current,R=E.getDroppableRef();R||y();const O=Qu(R),k={ref:R,descriptor:c,env:O,scrollOptions:I};t.current=k;const P=tp({ref:R,descriptor:c,env:O,windowScroll:C,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),A=O.closestScrollable;return A&&(A.setAttribute(Dr.contextId,n.contextId),A.addEventListener("scroll",m,Er(k.scrollOptions))),P},[n.contextId,c,m,a]),b=w(()=>{const C=t.current,I=st(C);return C&&I||y(),en(I)},[]),x=w(()=>{const C=t.current;C||y();const I=st(C);t.current=null,I&&(f.cancel(),I.removeAttribute(Dr.contextId),I.removeEventListener("scroll",m,Er(C.scrollOptions)))},[m,f]),D=w(C=>{const I=t.current;I||y();const E=st(I);E||y(),E.scrollTop+=C.y,E.scrollLeft+=C.x},[]),S=j(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:b,dragStopped:x,scroll:D}),[x,h,b,D]),N=j(()=>({uniqueId:r,descriptor:c,callbacks:S}),[S,c,r]);Y(()=>(d.current=N.descriptor,s.droppable.register(N),()=>{t.current&&x(),s.droppable.unregister(N)}),[S,c,x,N,i,s.droppable]),Y(()=>{t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Y(()=>{t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}o(op,"useDroppablePublisher");function kt(){}o(kt,"noop");const Pr={width:0,height:0,margin:ul},sp=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Pr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},"getSize"),ip=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=sp({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?$e.placeholder:null}},"getStyle"),ap=o(e=>{const t=v.useRef(null),n=w(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=e,[c,d]=v.useState(e.animate==="open");v.useEffect(()=>c?r!=="open"?(n(),d(!1),kt):t.current?kt:(t.current=setTimeout(()=>{t.current=null,d(!1)}),n):kt,[r,c,n]);const p=w(u=>{u.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),g=ip({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return L.createElement(e.placeholder.tagName,{style:g,"data-rfd-placeholder-context-id":a,onTransitionEnd:p,ref:e.innerRef})},"Placeholder");var lp=L.memo(ap);const Ln=class Ln extends L.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}};o(Ln,"AnimateInOut");let tn=Ln;const cp=o(e=>{const t=v.useContext(Nt);t||y();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),i=v.useRef(null),{children:a,droppableId:c,type:d,mode:p,direction:g,ignoreContainerClipping:u,isDropDisabled:f,isCombineEnabled:m,snapshot:h,useClone:b,updateViewportMaxScroll:x,getContainerForClone:D}=e,S=w(()=>s.current,[]),N=w((A=null)=>{s.current=A},[]);w(()=>i.current,[]);const C=w((A=null)=>{i.current=A},[]),I=w(()=>{r()&&x({maxScroll:qo()})},[r,x]);op({droppableId:c,type:d,mode:p,direction:g,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:S});const E=j(()=>L.createElement(tn,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:A,data:$,animate:K})=>L.createElement(lp,{placeholder:$,onClose:A,innerRef:C,animate:K,contextId:n,onTransitionEnd:I})),[n,I,e.placeholder,e.shouldAnimatePlaceholder,C]),R=j(()=>({innerRef:N,placeholder:E,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,E,N]),O=b?b.dragging.draggableId:null,k=j(()=>({droppableId:c,type:d,isUsingCloneFor:O}),[c,O,d]);function P(){if(!b)return null;const{dragging:A,render:$}=b,K=L.createElement(cs,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,F)=>$(B,F,A));return Us.createPortal(K,D())}return o(P,"getClone"),L.createElement(On.Provider,{value:k},a(R,h),P())},"Droppable");function dp(){return document.body||y(),document.body}o(dp,"getBody");const Ar={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dp},fs=o(e=>{let t={...e},n;for(n in Ar)e[n]===void 0&&(t={...t,[n]:Ar[n]});return t},"attachDefaultPropsToOwnProps"),$t=o((e,t)=>e===t.droppable.type,"isMatchingType"),jr=o((e,t)=>t.draggables[e.draggable.id],"getDraggable"),up=o(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=_(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=_((i,a,c,d,p,g)=>{const u=p.descriptor.id;if(p.descriptor.droppableId===i){const h=g?{render:g,dragging:n(p.descriptor)}:null,b={isDraggingOver:c,draggingOverWith:c?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:h}}if(!a)return t;if(!d)return e;const m={isDraggingOver:c,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return o((i,a)=>{const c=fs(a),d=c.droppableId,p=c.type,g=!c.isDropDisabled,u=c.renderClone;if(Ke(i)){const f=i.critical;if(!$t(p,f))return t;const m=jr(f,i.dimensions),h=z(i.impact)===d;return r(d,g,h,h,m,u)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!$t(p,f.critical))return t;const m=jr(f.critical,i.dimensions);return r(d,g,as(f.result)===d,z(f.impact)===d,m,u)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!$t(p,f.critical))return t;const m=z(f.impact)===d,h=!!(f.impact.at&&f.impact.at.type==="COMBINE"),b=f.critical.droppable.id===d;return m?h?e:t:b?e:t}return t},"selector")},"makeMapStateToProps"),pp={updateViewportMaxScroll:Cc},fp=uo(up,pp,(e,t,n)=>({...fs(n),...e,...t}),{context:An,areStatePropsEqual:is})(cp),gp=o(({deal:e,index:t})=>e?l.jsx(zu,{draggableId:String(e.id),index:t,children:o((n,r)=>l.jsx(gs,{provided:n,snapshot:r,deal:e}),"children")}):null,"DealCard"),gs=o(({provided:e,snapshot:t,deal:n})=>{const r=Se(),s=o(()=>{r(`/deals/${n.id}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"handleClick");return l.jsx("div",{className:"cursor-pointer",...e?.draggableProps,...e?.dragHandleProps,ref:e?.innerRef,onClick:s,children:l.jsx(ne,{className:`py-4 transition-all duration-200 ${t?.isDragging?"opacity-90 transform rotate-1 shadow-lg":"shadow-sm hover:shadow-md"}`,children:l.jsxs(ce,{className:"px-4 flex",children:[l.jsx(xt,{source:"company_id",record:n,reference:"companies",link:!1,children:l.jsx(sn,{width:20,height:20})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:n.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),n.category?`, ${n.category}`:""]})]})]})})})},"DealCardContent"),Rr=o(()=>{const{identity:e}=Ce(),{data:t,total:n,isPending:r}=ht("deals",{pagination:{page:1,perPage:1e3},sort:{field:"archived_at",order:"DESC"},filter:{"archived_at@not.is":null}}),[s,i]=v.useState(!1);if(v.useEffect(()=>{!r&&n===0&&i(!1)},[r,n]),v.useEffect(()=>{i(!1)},[t]),!e||r||!n||!t)return null;const a=t.reduce((c,d)=>{const p=new Date(d.archived_at).toDateString();return c[p]||(c[p]=[]),c[p].push(d),c},{});return l.jsxs("div",{className:"w-full flex flex-row items-center justify-center",children:[l.jsx(Ie,{variant:"ghost",onClick:o(()=>i(!0),"onClick"),className:"my-4",children:"View archived deals"}),l.jsx(bt,{open:s,onOpenChange:o(()=>i(!1),"onOpenChange"),children:l.jsxs(vt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:[l.jsx(Hr,{children:"Archived Deals"}),l.jsx("div",{className:"flex flex-col gap-8",children:Object.entries(a).map(([c,d])=>l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h4",{className:"font-bold",children:mp(c)}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:d.map(p=>l.jsx("div",{children:l.jsx(gs,{deal:p})},p.id))})]},c))})]})})]})},"DealArchivedList");function mp(e){const t=new Date(e);t.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0);const r=t.getTime()-n.getTime(),s=Math.round(r/(1e3*60*60*24));if(Math.abs(s)>7)return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long"}).format(t);const i=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});return hp(i.format(s,"day"))}o(mp,"getRelativeTimeString");function hp(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(hp,"ucFirst");const ms=o(()=>{const e=qs();return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx(xp,{}),l.jsxs("div",{className:`flex gap-6 ${e?"flex-col":"flex-row"}`,children:[l.jsx(bp,{}),l.jsx(Ur,{orientation:e?"horizontal":"vertical"}),l.jsx(vp,{})]})]})},"DealInputs"),xp=o(()=>l.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[l.jsx(Vt,{source:"name",label:"Deal name",validate:Fe(),helperText:!1}),l.jsx(Vt,{source:"description",multiline:!0,rows:3,helperText:!1})]}),"DealInfoInputs"),bp=o(()=>l.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[l.jsx("h3",{className:"text-base font-medium",children:"Linked to"}),l.jsx(qr,{source:"company_id",reference:"companies",children:l.jsx(zs,{})}),l.jsx(no,{source:"contact_ids",reference:"contacts_summary",children:l.jsx(dn,{label:"Contacts",optionText:Ys,helperText:!1,validate:Fe()})})]}),"DealLinkedToInputs"),vp=o(()=>{const{dealStages:e,dealCategories:t}=Je();return l.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[l.jsx("h3",{className:"text-base font-medium",children:"Misc"}),l.jsx(Ht,{source:"category",label:"Category",choices:t.map(n=>({id:n,name:n})),helperText:!1}),l.jsx(Ki,{source:"amount",defaultValue:0,helperText:!1,validate:Fe()}),l.jsx(Vt,{validate:Fe(),source:"expected_closing_date",helperText:!1,type:"date",defaultValue:new Date().toISOString().split("T")[0]}),l.jsx(Ht,{source:"stage",choices:e.map(n=>({id:n.value,name:n.label})),defaultValue:"opportunity",helperText:!1,validate:Fe()})]})},"DealMiscInputs"),hs=o(({open:e})=>{const t=Se(),n=an(),{data:r}=we(),s=o(()=>{t("/deals")},"handleClose"),i=Ks(),a=o(async d=>{if(!r){t("/deals");return}const p=r.filter(f=>f.stage===d.stage&&f.id!==d.id);await Promise.all(p.map(async f=>n.update("deals",{id:f.id,data:{index:f.index+1},previousData:f})));const g=p.reduce((f,m)=>({...f,[m.id]:{...m,index:m.index+1}}),{}),u=Date.now();i.setQueriesData({queryKey:["deals","getList"]},f=>f&&{...f,data:f.data.map(m=>g[m.id]||m)},{updatedAt:u}),t("/deals")},"onSuccess"),{identity:c}=Ce();return l.jsx(bt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:l.jsx(vt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:l.jsx(Ui,{resource:"deals",mutationOptions:{onSuccess:a},children:l.jsxs(ln,{defaultValues:{sales_id:c?.id,contact_ids:[],index:0},children:[l.jsx(ms,{}),l.jsx(zr,{children:l.jsx(cn,{})})]})})})})},"DealCreate"),yp=o(({open:e,id:t})=>{const n=Se(),r=yt(),s=o(()=>{n("/deals",void 0,void 0,void 0,{_scrollToTop:!1})},"handleClose");return l.jsx(bt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:l.jsx(vt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?l.jsxs(Js,{id:t,mutationMode:"pessimistic",mutationOptions:{onSuccess:o(()=>{r("Deal updated"),n(`/deals/${t}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"onSuccess")},children:[l.jsx(Dp,{}),l.jsxs(ln,{children:[l.jsx(ms,{}),l.jsx(Sp,{})]})]}):null})})},"DealEdit");function Dp(){const e=Xe();return e?l.jsx(Hr,{className:"pb-0",children:l.jsxs("div",{className:"flex justify-between items-start mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(xt,{source:"company_id",reference:"companies",link:"show",children:l.jsx(sn,{})}),l.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit ",e.name," deal"]})]}),l.jsx("div",{className:"flex gap-2 pr-12",children:l.jsx(Ie,{asChild:!0,variant:"outline",className:"h-9",children:l.jsx(We,{to:`/deals/${e.id}/show`,children:"Back to deal"})})})]})}):null}o(Dp,"EditHeader");function Sp(){return l.jsx(zr,{children:l.jsxs("div",{className:"flex-1 flex justify-between",children:[l.jsx(Yr,{}),l.jsx(cn,{})]})})}o(Sp,"EditToolbar");const Cp=o(({children:e})=>{const t=Kr(),n=it("/deals/create",t.pathname),r=Xs(),{data:s,isPending:i}=ht("contacts",{pagination:{page:1,perPage:1}});return i?l.jsx(Qs,{value:50}):l.jsxs("div",{className:"flex flex-col justify-center items-center gap-12",style:{height:`calc(100dvh - ${r}px)`},children:[l.jsx("img",{src:"./img/empty.svg",alt:"No deals found"}),s&&s.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col items-center gap-0",children:[l.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),l.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"It seems your deal list is empty."})]}),l.jsx("div",{className:"flex space-x-8",children:l.jsx(Jr,{label:"Create deal"})}),l.jsx(hs,{open:!!n}),e]}):l.jsxs("div",{className:"flex flex-col items-center gap-0",children:[l.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),l.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-4",children:["It seems your contact list is empty.",l.jsx("br",{}),l.jsx(We,{to:"/contacts/create",className:"hover:underline",children:"Add your first contact"})," ","before creating a deal."]})]})]})},"DealEmpty"),Ip=o(({stage:e,deals:t})=>{const n=t.reduce((s,i)=>s+i.amount,0),{dealStages:r}=Je();return l.jsxs("div",{className:"flex-1 pb-8",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h3",{className:"text-base font-medium",children:Xr(r,e)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),l.jsx(fp,{droppableId:e,children:o((s,i)=>l.jsxs("div",{ref:s.innerRef,...s.droppableProps,className:`flex flex-col rounded-2xl mt-2 gap-2 ${i.isDraggingOver?"bg-muted":""}`,children:[t.map((a,c)=>l.jsx(gp,{deal:a,index:c},a.id)),s.placeholder]}),"children")})]})},"DealColumn"),Or=o((e,t)=>{if(!t)return{};const n=e.reduce((r,s)=>(r[s.stage].push(s),r),t.reduce((r,s)=>({...r,[s.value]:[]}),{}));return t.forEach(r=>{n[r.value]=n[r.value].sort((s,i)=>s.index-i.index)}),n},"getDealsByStage"),wp=o(()=>{const{dealStages:e}=Je(),{data:t,isPending:n,refetch:r}=we(),s=an(),[i,a]=v.useState(Or([],e));if(v.useEffect(()=>{if(t){const d=Or(t,e);Zs(d,i)||a(d)}},[t]),n)return null;const c=o(d=>{const{destination:p,source:g}=d;if(!p||p.droppableId===g.droppableId&&p.index===g.index)return;const u=g.droppableId,f=p.droppableId,m=i[u][g.index],h=i[f][p.index]??{stage:f,index:void 0};a(Np(m,{stage:u,index:g.index},{stage:f,index:p.index},i)),Ep(m,h,s).then(()=>{r()})},"onDragEnd");return l.jsx(Pu,{onDragEnd:c,children:l.jsx("div",{className:"flex gap-4",children:e.map(d=>l.jsx(Ip,{stage:d.value,deals:i[d.value]},d.value))})})},"DealListContent"),Np=o((e,t,n,r)=>{if(t.stage===n.stage){const s=r[t.stage];return s.splice(t.index,1),s.splice(n.index??s.length+1,0,e),{...r,[n.stage]:s}}else{const s=r[t.stage],i=r[n.stage];return s.splice(t.index,1),i.splice(n.index??i.length+1,0,e),{...r,[t.stage]:s,[n.stage]:i}}},"updateDealStageLocal"),Ep=o(async(e,t,n)=>{if(e.stage===t.stage){const{data:r}=await n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),s=t.index??r.length+1;e.index>s?await Promise.all([...r.filter(i=>i.index>=s&&i.index<e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index+1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})]):await Promise.all([...r.filter(i=>i.index<=s&&i.index>e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index-1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})])}else{const[{data:r},{data:s}]=await Promise.all([n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:t.stage}})]),i=t.index??s.length+1;await Promise.all([...r.filter(a=>a.index>e.index).map(a=>n.update("deals",{id:a.id,data:{index:a.index-1},previousData:a})),...s.filter(a=>a.index>=i).map(a=>n.update("deals",{id:a.id,data:{index:a.index+1},previousData:a})),n.update("deals",{id:e.id,data:{index:i,stage:t.stage},previousData:e})])}},"updateDealStage"),Pp=o(()=>{const{data:e,error:t,isPending:n}=we();return n||t?l.jsx("div",{className:"h-8"}):l.jsx("div",{className:"flex flex-row flex-wrap gap-4 mt-4",children:e.map(r=>l.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[l.jsx(ei,{record:r}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs(We,{to:`/contacts/${r.id}/show`,className:"text-sm hover:underline",children:[r.first_name," ",r.last_name]}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.title,r.title&&r.company_name&&" at ",r.company_name]})]})]},r.id))})},"ContactList"),Ap=["Email","Chiamata","Meeting","Demo","Proposta","Negoziazione","Follow-up","Altro"],jp=["Positivo","Neutro","Negativo","Critico"],Rp=o(({className:e})=>{const t=on(),n=Xe(),{identity:r}=Ce();return!n||!r?null:l.jsx($r,{resource:t,redirect:!1,children:l.jsx(ln,{children:l.jsxs("div",{className:Wr("space-y-4",e),children:[l.jsx(Op,{dealRecord:n}),l.jsx(Tp,{record:n})]})})})},"InteractionCreate"),Op=o(({dealRecord:e})=>{const{setValue:t,watch:n}=nn(),r=n("type"),s=n("sentiment");return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"type",children:"Type *"}),l.jsxs(kn,{value:r||"",onValueChange:o(i=>t("type",i),"onValueChange"),children:[l.jsx($n,{children:l.jsx(Wn,{placeholder:"Select type"})}),l.jsx(Vn,{children:Ap.map(i=>l.jsx(Hn,{value:i,children:i},i))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"date",children:"Date & Time *"}),l.jsx(Wt,{type:"datetime-local",id:"date",defaultValue:new Date().toISOString().slice(0,16),onChange:o(i=>t("date",i.target.value),"onChange")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"duration",children:"Duration (minutes)"}),l.jsx(Wt,{type:"number",id:"duration",placeholder:"30",min:"0",onChange:o(i=>t("duration",i.target.value?parseInt(i.target.value):null),"onChange")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"sentiment",children:"Sentiment"}),l.jsxs(kn,{value:s||"",onValueChange:o(i=>t("sentiment",i),"onValueChange"),children:[l.jsx($n,{children:l.jsx(Wn,{placeholder:"Select sentiment"})}),l.jsx(Vn,{children:jp.map(i=>l.jsx(Hn,{value:i,children:i},i))})]})]})]}),e.contact_ids&&e.contact_ids.length>0&&l.jsx("div",{className:"space-y-2",children:l.jsx(no,{source:"participant_ids",reference:"contacts_summary",filter:{"id@in":`(${e.contact_ids.join(",")})`},children:l.jsx(dn,{label:"Participants",helperText:!1,optionText:o(i=>i?`${i.first_name} ${i.last_name}`:"","optionText")})})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{htmlFor:"notes",children:"Notes"}),l.jsx(ti,{id:"notes",rows:4,placeholder:"Add details about this interaction...",onChange:o(i=>t("notes",i.target.value),"onChange")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(de,{children:"Attachments"}),l.jsx(ni,{source:"attachments",multiple:!0,accept:"*"})]})]})},"InteractionInputs"),Tp=o(({record:e})=>{const t=yt(),{identity:n}=Ce(),{reset:r}=nn(),{refetch:s}=we();if(!e||!n)return null;const i=o(()=>{r({type:null,date:new Date().toISOString().slice(0,16),duration:null,participant_ids:[],notes:null,attachments:null,sentiment:null},{keepValues:!1}),s(),t("Interaction added")},"handleSuccess");return l.jsx("div",{className:"flex justify-end",children:l.jsx(cn,{type:"button",label:"Add Interaction",transform:o(a=>({...a,deal_id:e.id,sales_id:n.id,date:a.date?new Date(a.date).toISOString():new Date().toISOString()}),"transform"),mutationOptions:{onSuccess:i}})})},"InteractionCreateButton"),Bp={Email:ii,Chiamata:si,Meeting:oi,Demo:Vi,Proposta:Gi,Negoziazione:$i,"Follow-up":ri,Altro:Zr},Lp={Positivo:"bg-green-500",Neutro:"bg-gray-500",Negativo:"bg-orange-500",Critico:"bg-red-500"},_p=o(()=>Xe()?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"font-semibold text-lg",children:"Interactions"}),l.jsx(Rp,{}),l.jsx(Qr,{target:"deal_id",reference:"dealInteractions",sort:{field:"date",order:"DESC"},children:l.jsx(Mp,{})})]}):null,"InteractionsList"),Mp=o(()=>{const{data:e,isPending:t,error:n}=we();return t?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?l.jsx("div",{className:"text-sm text-destructive",children:"Error loading interactions"}):!e||e.length===0?l.jsx("div",{className:"text-sm text-muted-foreground mt-4",children:"No interactions yet. Add one above to start tracking."}):l.jsx("div",{className:"space-y-3 mt-4",children:e.map(r=>l.jsx(Fp,{interaction:r},r.id))})},"InteractionsIterator"),Fp=o(({interaction:e})=>{const[t,n]=v.useState(!1),r=Bp[e.type]||Zr;return l.jsx(ne,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:l.jsx(r,{className:"w-5 h-5 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(rn,{variant:"secondary",children:e.type}),e.sentiment&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Lp[e.sentiment]||"bg-gray-500"}`}),l.jsx("span",{className:"text-xs text-muted-foreground",children:e.sentiment})]})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:eo(new Date(e.date),"PPp")})]}),e.duration&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",e.duration," minutes"]}),e.participant_ids&&e.participant_ids.length>0&&l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Participants: "}),l.jsx("span",{className:"space-x-2",children:e.participant_ids.map(s=>l.jsx(xt,{source:"id",reference:"contacts_summary",record:{id:s},link:"show",render:o(({referenceRecord:i})=>i?l.jsxs("span",{className:"inline-block",children:[i.first_name," ",i.last_name]}):null,"render")},s))})]}),e.notes&&l.jsxs(l.Fragment,{children:[l.jsxs(Ie,{variant:"ghost",size:"sm",onClick:o(()=>n(!t),"onClick"),className:"px-0 h-auto text-sm text-primary",children:[t?"Hide":"Show"," details"]}),t&&l.jsx("div",{className:"text-sm whitespace-pre-line bg-muted p-3 rounded",children:e.notes})]}),e.attachments&&e.attachments.length>0&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",e.attachments.length," attachment(s)"]})]})]})})},"InteractionCard"),Gp=o(()=>{const e=Xe(),{data:t,isPending:n}=ht("dealInteractions",{filter:{deal_id:e?.id},pagination:{page:1,perPage:1e3},sort:{field:"date",order:"DESC"}},{enabled:!!e});if(!e)return null;if(n)return l.jsx("div",{children:"Loading dashboard..."});const r=t?.length||0,s=Ut(new Date,new Date(e.created_at)),i=Math.max(Xi(new Date,new Date(e.created_at)),1),a=(r/i).toFixed(1),c={};t?.forEach(u=>{c[u.type]=(c[u.type]||0)+1});const d=Object.entries(c).sort((u,f)=>f[1]-u[1])[0],p={Positivo:0,Neutro:0,Negativo:0,Critico:0};t?.forEach(u=>{u.sentiment&&(p[u.sentiment]=(p[u.sentiment]||0)+1)});const g=Object.values(p).reduce((u,f)=>u+f,0);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"font-semibold text-lg",children:"Deal Dashboard"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(ne,{children:[l.jsx(me,{className:"pb-2",children:l.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Deal Value"})}),l.jsx(ce,{children:l.jsx("div",{className:"text-2xl font-bold",children:e.amount.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})})]}),l.jsxs(ne,{children:[l.jsx(me,{className:"pb-2",children:l.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Days in Pipeline"})}),l.jsxs(ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:s}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Since ",new Date(e.created_at).toLocaleDateString()]})]})]}),l.jsxs(ne,{children:[l.jsx(me,{className:"pb-2",children:l.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Total Interactions"})}),l.jsxs(ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:r}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avg ",a," per week"]})]})]}),l.jsxs(ne,{children:[l.jsx(me,{className:"pb-2",children:l.jsx(he,{className:"text-sm font-medium text-muted-foreground",children:"Current Stage"})}),l.jsxs(ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.stage}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Updated ",Ut(new Date,new Date(e.updated_at))," days ago"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(ne,{children:[l.jsx(me,{children:l.jsx(he,{className:"text-base",children:"Interaction Breakdown"})}),l.jsx(ce,{className:"space-y-2",children:r===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No interactions recorded yet"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Most Common Type:"})," ",d?l.jsxs(l.Fragment,{children:[d[0]," (",d[1]," times)"]}):"N/A"]}),l.jsx("div",{className:"space-y-1 mt-3",children:Object.entries(c).sort((u,f)=>f[1]-u[1]).map(([u,f])=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:u}),l.jsx("span",{className:"font-medium",children:f})]},u))})]})})]}),l.jsxs(ne,{children:[l.jsx(me,{children:l.jsx(he,{className:"text-base",children:"Sentiment Analysis"})}),l.jsx(ce,{className:"space-y-2",children:g===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No sentiment data recorded yet"}):l.jsx("div",{className:"space-y-2",children:Object.entries(p).map(([u,f])=>{const m=g>0?(f/g*100).toFixed(0):0;return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:u}),l.jsxs("span",{className:"font-medium",children:[f," (",m,"%)"]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${u==="Positivo"?"bg-green-500":u==="Neutro"?"bg-gray-500":u==="Negativo"?"bg-orange-500":"bg-red-500"}`,style:{width:`${m}%`}})})]},u)})})})]})]})]})},"InteractionsDashboard"),Tr=o(({open:e,id:t})=>{const n=Se(),r=o(()=>{n("list","deals")},"handleClose");return l.jsx(bt,{open:e,onOpenChange:o(s=>!s&&r(),"onOpenChange"),children:l.jsx(vt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?l.jsx(ai,{id:t,children:l.jsx(kp,{})}):null})})},"DealShow"),kp=o(()=>{const{dealStages:e}=Je(),t=Xe(),[n,r]=v.useState(!1);return t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[t.archived_at?l.jsx($p,{}):null,l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(xt,{source:"company_id",reference:"companies",link:"show",children:l.jsx(sn,{})}),l.jsx("h2",{className:"text-2xl font-semibold",children:t.name})]}),l.jsx("div",{className:`flex gap-2 ${t.archived_at?"":"pr-12"}`,children:t.archived_at?l.jsxs(l.Fragment,{children:[l.jsx(Vp,{record:t}),l.jsx(Yr,{})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Ie,{onClick:o(()=>r(!0),"onClick"),size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[l.jsx(Mi,{className:"w-4 h-4"}),"Set Reminder"]}),l.jsx(Wp,{record:t}),l.jsx(li,{})]})})]}),l.jsxs(ci,{defaultValue:"overview",className:"w-full",children:[l.jsxs(di,{className:"mb-4",children:[l.jsx(Pt,{value:"overview",children:"Overview"}),l.jsx(Pt,{value:"interactions",children:"Interactions"}),l.jsx(Pt,{value:"dashboard",children:"Dashboard"})]}),l.jsxs(At,{value:"overview",className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-8 m-4",children:[l.jsxs("div",{className:"flex flex-col mr-10",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Expected closing date"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:ui(new Date(t.expected_closing_date))?eo(new Date(t.expected_closing_date),"PP"):"Invalid date"}),new Date(t.expected_closing_date)<new Date?l.jsx(rn,{variant:"destructive",children:"Past"}):null]})]}),l.jsxs("div",{className:"flex flex-col mr-10",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Budget"}),l.jsx("span",{className:"text-sm",children:t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),t.category&&l.jsxs("div",{className:"flex flex-col mr-10",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Category"}),l.jsx("span",{className:"text-sm",children:t.category})]}),l.jsxs("div",{className:"flex flex-col mr-10",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Stage"}),l.jsx("span",{className:"text-sm",children:Xr(e,t.stage)})]})]}),!!t.contact_ids?.length&&l.jsx("div",{className:"m-4",children:l.jsxs("div",{className:"flex flex-col min-h-12 mr-10",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Contacts"}),l.jsx(pi,{source:"contact_ids",reference:"contacts_summary",children:l.jsx(Pp,{})})]})}),t.description&&l.jsxs("div",{className:"m-4 whitespace-pre-line",children:[l.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Description"}),l.jsx("p",{className:"text-sm leading-6",children:t.description})]}),l.jsxs("div",{className:"m-4",children:[l.jsx(Ur,{className:"mb-4"}),l.jsx(Qr,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},empty:l.jsx(gi,{reference:"deals"}),children:l.jsx(fi,{reference:"deals"})})]})]}),l.jsx(At,{value:"interactions",className:"m-4",children:l.jsx(_p,{})}),l.jsx(At,{value:"dashboard",className:"m-4",children:l.jsx(Gp,{})})]})]})]}),l.jsx(mi,{open:n,onClose:o(()=>r(!1),"onClose"),entityType:"deal",entityId:t.id})]}):null},"DealShowContent"),$p=o(()=>l.jsx("div",{className:"bg-orange-500 px-6 py-4",children:l.jsx("h3",{className:"text-lg font-bold text-white",children:"Archived Deal"})}),"ArchivedTitle"),Wp=o(({record:e})=>{const[t]=xi(),n=Se(),r=yt(),s=to(),i=o(()=>{t("deals",{id:e.id,data:{archived_at:new Date().toISOString()},previousData:e},{onSuccess:o(()=>{n("list","deals"),r("Deal archived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not archived",{type:"error"})},"onError")})},"handleClick");return l.jsxs(Ie,{onClick:i,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[l.jsx(Li,{className:"w-4 h-4"}),"Archive"]})},"ArchiveButton"),Vp=o(({record:e})=>{const t=an(),n=Se(),r=yt(),s=to(),{mutate:i}=hi({mutationFn:o(()=>t.unarchiveDeal(e),"mutationFn"),onSuccess:o(()=>{n("list","deals"),r("Deal unarchived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not unarchived",{type:"error"})},"onError")}),a=o(()=>{i()},"handleClick");return l.jsxs(Ie,{onClick:a,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[l.jsx(Ti,{className:"w-4 h-4"}),"Send back to the board"]})},"UnarchiveButton"),Hp=o(e=>{const{filterValues:t,displayedFilters:n,setFilters:r}=Ni(),{identity:s}=Ce(),i=o(()=>{const a={...t};typeof t.sales_id<"u"?delete a.sales_id:a.sales_id=s&&s?.id,r(a,n)},"handleChange");return l.jsx("div",{className:"mt-auto pb-2.25",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bi,{id:"only-mine",checked:typeof t.sales_id<"u",onCheckedChange:i}),l.jsx(de,{htmlFor:"only-mine",children:"Only companies I manage"})]})})},"OnlyMineInput"),Kp=o(()=>{const{identity:e}=Ce(),{dealCategories:t}=Je();if(!e)return null;const n=[l.jsx(vi,{source:"q",alwaysOn:!0}),l.jsx(qr,{source:"company_id",reference:"companies",children:l.jsx(yi,{label:!1,placeholder:"Company"})}),l.jsx(Ht,{source:"category",emptyText:"Category",choices:t.map(r=>({id:r,name:r}))}),l.jsx(Hp,{source:"sales_id",alwaysOn:!0})];return l.jsx(Di,{perPage:100,filter:{"archived_at@is":null},title:!1,sort:{field:"index",order:"DESC"},filters:n,actions:l.jsx(qp,{}),pagination:null,children:l.jsx(Up,{})})},"DealList"),Up=o(()=>{const e=Kr(),t=it("/deals/create",e.pathname),n=it("/deals/:id/show",e.pathname),r=it("/deals/:id",e.pathname),{data:s,isPending:i,filterValues:a}=we(),c=a&&Object.keys(a).length>0;return i?null:!s?.length&&!c?l.jsx(l.Fragment,{children:l.jsxs(Cp,{children:[l.jsx(Tr,{open:!!n,id:n?.params.id}),l.jsx(Rr,{})]})}):l.jsxs("div",{className:"w-full",children:[l.jsx(wp,{}),l.jsx(Rr,{}),l.jsx(hs,{open:!!t}),l.jsx(yp,{open:!!r&&!t,id:r?.params.id}),l.jsx(Tr,{open:!!n,id:n?.params.id})]})},"DealLayout"),qp=o(()=>l.jsxs(Si,{children:[l.jsx(Ci,{}),l.jsx(Ii,{}),l.jsx(Jr,{label:"New Deal"})]}),"DealActions");export{Kp as default};
//# sourceMappingURL=DealList-TvEUGnBP.js.map
